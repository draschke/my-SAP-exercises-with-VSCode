<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Using GitHub Actions to Deploy Continuously to Kyma/Kubernetes | My journey through SAP App Development exercises</title>
    <meta name="description" content="Using GitHub Actions to build a CI/CD pipeline that deploys to your SAP BTP Kyma cluster">
    <link rel="stylesheet" href="/my-SAP-exercises-with-VSCode/assets/style.d82f6ee1.css">
    <link rel="modulepreload" href="/my-SAP-exercises-with-VSCode/assets/Home.d7415ca6.js">
    <link rel="modulepreload" href="/my-SAP-exercises-with-VSCode/assets/app.80f3e7ce.js">
    <link rel="modulepreload" href="/my-SAP-exercises-with-VSCode/assets/config_SAP-Tech-Bytes_Using-GitHub-Actions-to-Deploy-Continuously-to-Kyma-K8s-Cluster.md.8c1f51b9.lean.js">
    <link rel="modulepreload" href="/my-SAP-exercises-with-VSCode/assets/app.80f3e7ce.js">
    <meta prefix="og: http://ogp.me/ns#" property="og:title" content="SAP App Development exercises with VS Code Dev Container">
    <meta prefix="og: http://ogp.me/ns#" property="og:type" content="article">
    <meta prefix="og: http://ogp.me/ns#" property="og:url" content="https://draschke.github.io/my-SAP-exercises-with-VSCode/">
    <meta prefix="og: http://ogp.me/ns#" property="og:description" content="For a faster and better traceability of the exercises I decided to use the [Visual Studio Dev Container](https://github.com/draschke/my-SAP-exercises-with-VSCode#microsoft---vs-code-dev-container) which gives me the possibility to start more quickly the same exercises with the required dev environment.">
    <meta prefix="og: http://ogp.me/ns#" property="og:article:author" content="Dirk Raschke">
    <meta prefix="og: http://ogp.me/ns#" property="og:site_name" content="SAP App Development exercises with VS Code Dev Container">
    <meta prefix="og: http://ogp.me/ns#" property="og:locale" content="en_US">
    <meta prefix="og: http://ogp.me/ns#" property="og:locale:alternate" content="en_GB">
    <meta prefix="og: http://ogp.me/ns#" property="og:image" content="https://draschke.github.io/my-SAP-exercises-with-VSCode/path_1200_627.jpg">
    <meta prefix="og: http://ogp.me/ns#" property="og:image:width" content="1200">
    <meta prefix="og: http://ogp.me/ns#" property="og:image:height" content="627">
    <meta prefix="og: http://ogp.me/ns#" property="og:image" content="https://draschke.github.io/my-SAP-exercises-with-VSCode/path_600_314.jpg">
    <meta prefix="og: http://ogp.me/ns#" property="og:image:width" content="600">
    <meta prefix="og: http://ogp.me/ns#" property="og:image:height" content="314">
    <meta prefix="og: http://ogp.me/ns#" property="og:image" content="https://draschke.github.io/my-SAP-exercises-with-VSCode/path_1200_627.jpg">
    <meta prefix="og: http://ogp.me/ns#" property="og:image:alt" content="SAP App Development exercises with VS Code Dev Container">
    <meta name="twitter:title" content="SAP App Development exercises with VS Code Dev Container">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="For a faster and better traceability of the exercises I decided to use the [Visual Studio Dev Container](https://github.com/draschke/my-SAP-exercises-with-VSCode#microsoft---vs-code-dev-container) which gives me the possibility to start more quickly the same exercises with the required dev environment.">
    <meta name="twitter:creator" content="Dirk Raschke">
    <meta name="twitter:site" content="draschke@googlemail.com">
    <meta name="twitter:image:alt" content="SAP App Development exercises with VS Code Dev Container">
    <meta name="twitter:image" content="https://draschke.github.io/my-SAP-exercises-with-VSCode/path_1200_627.jpg">
    <meta name="description" content="For a faster and better traceability of the exercises I decided to use the [Visual Studio Dev Container](https://github.com/draschke/my-SAP-exercises-with-VSCode#microsoft---vs-code-dev-container) which gives me the possibility to start more quickly the same exercises with the required dev environment.">
    <meta name="keywords" content="SAP HANA exercises, SAP HANA XSA tutorial, VS Code Dev Container, SAP HANA XSA Application Architect, SAP HANA BTP, SAPUI5, SAP Fiori, DevOps, Kubernetes, K8s, Kyma, JavaScript, Node.js">
    <meta name="author" content="Dirk Raschke">
    <meta name="google-site-verification" content="fIcc0ZHuxODrjX67vMWV1Bm0JM-eGz04Fm4Fy6jAez0">
    <meta name="title" content="Using GitHub Actions to Deploy Continuously to Kyma/Kubernetes">
    <meta name="keywords" content="SAP HANA BTP, GitHub Actions, CAP, K8s, Kyma, Kubernetes, VS Code Dev Container">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/my-SAP-exercises-with-VSCode/" aria-label="My journey through SAP App Development exercises, back to home" data-v-675d8756 data-v-4a583abe><!----> My journey through SAP App Development exercises</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/my-SAP-exercises-with-VSCode/" data-v-b8818f8c>Home <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/my-SAP-exercises-with-VSCode/config/basics" data-v-b8818f8c>Exercises <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/draschke/my-SAP-exercises-with-VSCode/releases" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>Release Notes <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/draschke/my-SAP-exercises-with-VSCode" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/my-SAP-exercises-with-VSCode/" data-v-b8818f8c>Home <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/my-SAP-exercises-with-VSCode/config/basics" data-v-b8818f8c>Exercises <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/draschke/my-SAP-exercises-with-VSCode/releases" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>Release Notes <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/draschke/my-SAP-exercises-with-VSCode" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item">Exercises</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/basics">Basics</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Exercises: App dev on SAP BTP</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/App-dev-on-SAP-BTP/Run-a-CAP-Application-on-Kyma">Run a CAP Application on Kyma, 19.08.2021</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Exercises: SAP-Tech-Bytes</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item active" href="/my-SAP-exercises-with-VSCode/config/SAP-Tech-Bytes/Using-GitHub-Actions-to-Deploy-Continuously-to-Kyma-K8s-Cluster">Using GitHub Actions to Deploy Continuously to Kyma K8s Cluster, 8.09.2021</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#preparations">Preparations</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#dockerize-the-app">Dockerize the App</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#update-your-kube-config">Update your .kube/config</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#the-kyma-manifest">The Kyma Manifest</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#set-up-the-github-repository">Set up the GitHub Repository</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#create-two-github-workflows">Create Two GitHub Workflows</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#this-is-what-happen-when-you-trigger-the-deployment-yaml-file-github-workflows-deploy-yaml">This is what happen when you trigger the deployment.yaml file (.github/workflows/deploy.yaml)</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#trigger-the-pipeline">Trigger the Pipeline</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#kudos-to-marius-obert-for-this-great-technical-article">Kudos to Marius Obert for this great technical article</a><!----></li></ul></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Exercises: Blogs-SAP-Com</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/Blogs-SAP-Com/Build-SAP-Overview-Page-using-SAP-HANA-Cloud-with-VS-Code">Build SAP Overview Page using SAP HANA Cloud with VS Code, 25.08.2021</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/Blogs-SAP-Com/Deploy-a-simple-Nodejs-app-to-XSA-platform">Deploy a simple Node.js app to XSA platform with VS Code, 7.09.2021</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/Blogs-SAP-Com/Create-a-OData-service-with-Nodejs-by-using-CAP-with-VS-Code">Create a OData service with Nodejs by using CAP with VS Code, 29.10.2021</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/Blogs-SAP-Com/Add-a-piechart-into-the-openui5-sample-app">Add a piechart into the openui5 sample app, 15.11.2021</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/Blogs-SAP-Com/Devtoberfest-2021-Frontend-Week-Coding-Challenge">Devtoberfest 2021 Frontend Week Coding Challenge, 15.11.2021</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 id="using-github-actions-to-deploy-continuously-to-kyma-kubernetes" tabindex="-1">Using GitHub Actions to Deploy Continuously to Kyma/Kubernetes <a class="header-anchor" href="#using-github-actions-to-deploy-continuously-to-kyma-kubernetes" aria-hidden="true">#</a></h1><ul><li><p><a href="https://blogs.sap.com/2021/08/02/sap-tech-bytes-using-github-actions-to-deploy-continuously-to-kyma-kubernetes/?source=social-Global-sap-developers-LINKEDIN_COMPANY-MarketingCampaign-Developers-Business+Technology+Platform+Umbrella-spr-5262938156&amp;campaigncode=CRM-XB21-MKT-DGEALL" target="_blank" rel="noopener noreferrer">Using GitHub Actions to Deploy Continuously to Kyma/Kubernetes</a> with this <a href="https://github.com/draschke/dr-sap-tech-bytes-2021-08-02/blob/b108204e237e3c48998ab65a20cc5026afe36b9c/.devcontainer" target="_blank" rel="noopener noreferrer">VS Dev Container</a></p></li><li><p>If you use this <a href="https://github.com/draschke/dr-sap-tech-bytes-2021-08-02/blob/b108204e237e3c48998ab65a20cc5026afe36b9c/.devcontainer" target="_blank" rel="noopener noreferrer">VS Dev Container</a> you can follow all the steps without having to install any further program. This walkthrough only provides my additional quidance for this awesome tutorial from Marius Obert.</p></li></ul><h2 id="preparations" tabindex="-1">Preparations <a class="header-anchor" href="#preparations" aria-hidden="true">#</a></h2><ul><li>Clone this <a href="https://github.com/draschke/dr-sap-tech-bytes-2021-08-02.git" target="_blank" rel="noopener noreferrer">repo</a> in a new WSL folder and start the included Dev Container</li></ul><h2 id="dockerize-the-app" tabindex="-1">Dockerize the App <a class="header-anchor" href="#dockerize-the-app" aria-hidden="true">#</a></h2><div class="language-bash line-numbers-mode"><pre><code>node ➜ /workspaces/sap-tech-bytes <span class="token punctuation">(</span><span class="token number">2021</span>-08-02-github-actions-kyma<span class="token punctuation">)</span>
$ docker build -t sap-tech-bytes <span class="token builtin class-name">.</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="/my-SAP-exercises-with-VSCode/assets/4-build-the-image.b75b044c.png" alt="cap-kyma-app"></p><ul><li>Tag the image with your registry account user</li></ul><div class="language-bash line-numbers-mode"><pre><code>node ➜ /workspaces/sap-tech-bytes <span class="token punctuation">(</span><span class="token number">2021</span>-08-02-github-actions-kyma<span class="token punctuation">)</span> 
$ docker tag dr-sap-tech-bytes:latest draschke/dr-sap-tech-bytes

output--<span class="token operator">&gt;</span> draschke/dr-sap-tech-bytes:latest
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="/my-SAP-exercises-with-VSCode/assets/5-tag-image.e3ab7000.png" alt="cap-kyma-app"></p><h2 id="update-your-kube-config" tabindex="-1">Update your .kube/config <a class="header-anchor" href="#update-your-kube-config" aria-hidden="true">#</a></h2><ul><li>Update your .kube/config (after 8 hours you will have to change it again)</li></ul><div class="language-bash line-numbers-mode"><pre><code> <span class="token function">cp</span> .<span class="token punctuation">\</span>kubeconfig.yaml  ~/.kube/config
 <span class="token comment">#find your directory here</span>
<span class="token punctuation">\</span><span class="token punctuation">\</span>wsl$<span class="token punctuation">\</span>Ubuntu-20.04<span class="token punctuation">\</span>home<span class="token punctuation">\</span><span class="token operator">&lt;</span>youruser<span class="token operator">&gt;</span><span class="token punctuation">\</span>.kube
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>or do it better and follow this nice guide from Marius <a href="https://developers.sap.com/tutorials/kyma-create-service-account.html" target="_blank" rel="noopener noreferrer">Create a Kyma service account</a></li></ul><h2 id="the-kyma-manifest" tabindex="-1">The Kyma Manifest <a class="header-anchor" href="#the-kyma-manifest" aria-hidden="true">#</a></h2><ul><li>Make sure you are logged in to kubectl by running one of this commands</li></ul><div class="language-bash line-numbers-mode"><pre><code>node ➜ /workspaces/sap-tech-bytes <span class="token punctuation">(</span><span class="token number">2021</span>-08-02-github-actions-kyma<span class="token punctuation">)</span>
$ kubectl get ns
$ kubectl get pods
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>Change the dev_deployment.yaml</li></ul><div class="language-bash line-numbers-mode"><pre><code><span class="token comment">#image: ghcr.io/&lt;user&gt;/&lt;repo name&gt;:latest</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>Create secret “regcred“ (Take care that you have a namespace &quot;tutorial&quot;)</li></ul><div class="language-bash line-numbers-mode"><pre><code>node ➜ /workspaces/sap-tech-bytes <span class="token punctuation">(</span><span class="token number">2021</span>-08-02-github-actions-kyma<span class="token punctuation">)</span>

$ kubectl -n tutorial create secret docker-registry regcred --docker-server<span class="token operator">=</span>https://ghcr.io  --docker-username<span class="token operator">=</span><span class="token operator">&lt;</span>github user<span class="token operator">&gt;</span>  --docker-password<span class="token operator">=</span><span class="token operator">&lt;</span>github personal access token<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>After creating the secret &quot;regcred&quot; you&#39;ll find it here</li></ul><p><img src="/my-SAP-exercises-with-VSCode/assets/5-regcred.d3386713.png" alt="docker registry credentials"></p><h2 id="set-up-the-github-repository" tabindex="-1">Set up the GitHub Repository <a class="header-anchor" href="#set-up-the-github-repository" aria-hidden="true">#</a></h2><ul><li>Go to your kubeconfig.yml and export a base64 value file and paste it to your git repository secrets</li></ul><div class="language-bash line-numbers-mode"><pre><code><span class="token punctuation">\</span><span class="token punctuation">\</span>wsl$<span class="token punctuation">\</span>Ubuntu-20.04<span class="token punctuation">\</span>home<span class="token punctuation">\</span><span class="token operator">&lt;</span>user<span class="token operator">&gt;</span><span class="token punctuation">\</span>.kube<span class="token punctuation">\</span>kubeconfig.yml
<span class="token function">cat</span> kubeconfig.yaml <span class="token operator">|</span> base64 <span class="token operator">&gt;</span> base64-kubeconfig.txt
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>Create a repo secret <code>DEV_KUBECONFIG</code> with the base64 value</li></ul><p><img src="/my-SAP-exercises-with-VSCode/assets/7-secrets.5c9ceb49.png" alt="cap-kyma-app"></p><h2 id="create-two-github-workflows" tabindex="-1">Create Two GitHub Workflows <a class="header-anchor" href="#create-two-github-workflows" aria-hidden="true">#</a></h2><ul><li>Change the name of your image</li></ul><div class="language-bash line-numbers-mode"><pre><code>.github/workflows/deploy.yaml
  IMAGE_NAME: sap-samples/tech-bytes-kyma-cicd
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>You need your GITHUB_TOKEN</li></ul><div class="language-bash line-numbers-mode"><pre><code>password: <span class="token variable">${{ secrets.GITHUB_TOKEN }</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>You need your DEV_KUBECONFIG</li></ul><div class="language-bash line-numbers-mode"><pre><code> config: <span class="token variable">${{ secrets.DEV_KUBECONFIG }</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="this-is-what-happen-when-you-trigger-the-deployment-yaml-file-github-workflows-deploy-yaml" tabindex="-1">This is what happen when you trigger the deployment.yaml file (.github/workflows/deploy.yaml) <a class="header-anchor" href="#this-is-what-happen-when-you-trigger-the-deployment-yaml-file-github-workflows-deploy-yaml" aria-hidden="true">#</a></h2><ol><li>Load metadata from the Dockerfile</li><li>Build the image</li><li>Push the image to the registry</li><li>Read the kubeconfig from the secret we created and deploy the image to your Kyma cluster.</li></ol><ul><li>Packages on the right side</li></ul><p><img src="/my-SAP-exercises-with-VSCode/assets/8-package-created.65cc0c78.png" alt="cap-kyma-app"></p><ul><li>Check if your app is running (If not keep an eye at your Pods (error logs / credentials))</li></ul><p><img src="/my-SAP-exercises-with-VSCode/assets/11-Hello-SAP-Tech-Bytes.6a221d64.png" alt="cap-kyma-app"></p><h2 id="trigger-the-pipeline" tabindex="-1">Trigger the Pipeline <a class="header-anchor" href="#trigger-the-pipeline" aria-hidden="true">#</a></h2><ul><li>Increase the version</li></ul><div class="language-bash line-numbers-mode"><pre><code>node ➜ /workspaces/sap-tech-bytes <span class="token punctuation">(</span>dr-sap-tech-bytes-2021-08-02<span class="token punctuation">)</span> 
$ <span class="token function">npm</span> version patch
v1.1.3 
node ➜ /workspaces/sap-tech-bytes <span class="token punctuation">(</span>dr-sap-tech-bytes-2021-08-02<span class="token punctuation">)</span> 
$ <span class="token function">git</span> push --follow-tags
<span class="token punctuation">..</span>.
 * <span class="token punctuation">[</span>new tag<span class="token punctuation">]</span>         v1.1.3 -<span class="token operator">&gt;</span> v1.1.3
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-bash line-numbers-mode"><pre><code>Have had this issue: 
node ➜ /workspaces/sap-tech-bytes <span class="token punctuation">(</span>dr-sap-tech-bytes-2021-08-02 ✗<span class="token punctuation">)</span> 
$ <span class="token function">npm</span> version patch 
Output <span class="token comment">#npm ERR! Git working directory not clean.</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-bash line-numbers-mode"><pre><code>Solution:
node ➜ /workspaces/sap-tech-bytes <span class="token punctuation">(</span>dr-sap-tech-bytes-2021-08-02 ✗<span class="token punctuation">)</span> 
$ <span class="token function">npm</span> version --no-git-tag-version
After that you should be fine
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>Update the current deployment to make use of the latest image</li></ul><p>The <a href="https://github.com/draschke/dr-sap-tech-bytes-2021-08-02/blob/85a1177577c438b1e23d7a7b96ab5e34eb3638b7/.github/workflows/publish.yaml" target="_blank" rel="noopener noreferrer">publish.yaml file</a> includes a nice Action to keep your releases updated</p><p><img src="/my-SAP-exercises-with-VSCode/assets/12-release.62b5ad11.png" alt="cap-kyma-app"></p><h2 id="kudos-to-marius-obert-for-this-great-technical-article" tabindex="-1">Kudos to Marius Obert for this great technical article <a class="header-anchor" href="#kudos-to-marius-obert-for-this-great-technical-article" aria-hidden="true">#</a></h2></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><a class="link" href="https://github.com/draschke/my-SAP-exercises-with-VSCode/edit/master/docs/config/SAP-Tech-Bytes/Using-GitHub-Actions-to-Deploy-Continuously-to-Kyma-K8s-Cluster.md" target="_blank" rel="noopener noreferrer" data-v-1ed99556>Edit this page on GitHub <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-1ed99556><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-fb8d84c6><p class="last-updated" data-v-fb8d84c6 data-v-5797b537><span class="prefix" data-v-5797b537>Last Updated:</span><span class="datetime" data-v-5797b537></span></p></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/my-SAP-exercises-with-VSCode/config/App-dev-on-SAP-BTP/Run-a-CAP-Application-on-Kyma" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>Run a CAP Application on Kyma, 19.08.2021</span></a></div><div class="next" data-v-38ede35f><a class="link" href="/my-SAP-exercises-with-VSCode/config/Blogs-SAP-Com/Build-SAP-Overview-Page-using-SAP-HANA-Cloud-with-VS-Code" data-v-38ede35f><span class="text" data-v-38ede35f>Build SAP Overview Page using SAP HANA Cloud with VS Code, 25.08.2021</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"config_app-dev-on-sap-btp_run-a-cap-application-on-kyma.md\":\"1e98f68a\",\"config_blogs-sap-com_add-a-piechart-into-the-openui5-sample-app.md\":\"ee14a2d3\",\"config_blogs-sap-com_build-sap-overview-page-using-sap-hana-cloud-with-vs-code.md\":\"e26c8e08\",\"config_blogs-sap-com_create-a-odata-service-with-nodejs-by-using-cap-with-vs-code.md\":\"e6f6dd70\",\"config_blogs-sap-com_deploy-a-simple-nodejs-app-to-xsa-platform.md\":\"3f6e83ad\",\"config_blogs-sap-com_develop-and-deploy-the-repositiory-bmp.md\":\"b9283637\",\"config_blogs-sap-com_devtoberfest-2021-frontend-week-coding-challenge.md\":\"90b3f20b\",\"config_sap-tech-bytes_using-github-actions-to-deploy-continuously-to-kyma-k8s-cluster.md\":\"8c1f51b9\",\"config_basics.md\":\"76c51a1a\",\"index.md\":\"6ad5db5c\"}")</script>
    <script type="module" async src="/my-SAP-exercises-with-VSCode/assets/app.80f3e7ce.js"></script>
    
  </body>
</html>