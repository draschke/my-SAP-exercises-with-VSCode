<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Run a CAP Application on Kyma | My journey through SAP App Development exercises</title>
    <meta name="description" content="In this tutorial, you deploy an application built with CAP to an SAP BTP, Kyma runtime cluster. The CAP application has an OData service, SAP Fiori UI and uses SAP HANA as a database.">
    <link rel="stylesheet" href="/my-SAP-exercises-with-VSCode/assets/style.d82f6ee1.css">
    <link rel="modulepreload" href="/my-SAP-exercises-with-VSCode/assets/Home.d7415ca6.js">
    <link rel="modulepreload" href="/my-SAP-exercises-with-VSCode/assets/app.80f3e7ce.js">
    <link rel="modulepreload" href="/my-SAP-exercises-with-VSCode/assets/config_App-dev-on-SAP-BTP_Run-a-CAP-Application-on-Kyma.md.1e98f68a.lean.js">
    <link rel="modulepreload" href="/my-SAP-exercises-with-VSCode/assets/app.80f3e7ce.js">
    <meta prefix="og: http://ogp.me/ns#" property="og:title" content="SAP App Development exercises with VS Code Dev Container">
    <meta prefix="og: http://ogp.me/ns#" property="og:type" content="article">
    <meta prefix="og: http://ogp.me/ns#" property="og:url" content="https://draschke.github.io/my-SAP-exercises-with-VSCode/">
    <meta prefix="og: http://ogp.me/ns#" property="og:description" content="For a faster and better traceability of the exercises I decided to use the [Visual Studio Dev Container](https://github.com/draschke/my-SAP-exercises-with-VSCode#microsoft---vs-code-dev-container) which gives me the possibility to start more quickly the same exercises with the required dev environment.">
    <meta prefix="og: http://ogp.me/ns#" property="og:article:author" content="Dirk Raschke">
    <meta prefix="og: http://ogp.me/ns#" property="og:site_name" content="SAP App Development exercises with VS Code Dev Container">
    <meta prefix="og: http://ogp.me/ns#" property="og:locale" content="en_US">
    <meta prefix="og: http://ogp.me/ns#" property="og:locale:alternate" content="en_GB">
    <meta prefix="og: http://ogp.me/ns#" property="og:image" content="https://draschke.github.io/my-SAP-exercises-with-VSCode/path_1200_627.jpg">
    <meta prefix="og: http://ogp.me/ns#" property="og:image:width" content="1200">
    <meta prefix="og: http://ogp.me/ns#" property="og:image:height" content="627">
    <meta prefix="og: http://ogp.me/ns#" property="og:image" content="https://draschke.github.io/my-SAP-exercises-with-VSCode/path_600_314.jpg">
    <meta prefix="og: http://ogp.me/ns#" property="og:image:width" content="600">
    <meta prefix="og: http://ogp.me/ns#" property="og:image:height" content="314">
    <meta prefix="og: http://ogp.me/ns#" property="og:image" content="https://draschke.github.io/my-SAP-exercises-with-VSCode/path_1200_627.jpg">
    <meta prefix="og: http://ogp.me/ns#" property="og:image:alt" content="SAP App Development exercises with VS Code Dev Container">
    <meta name="twitter:title" content="SAP App Development exercises with VS Code Dev Container">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="For a faster and better traceability of the exercises I decided to use the [Visual Studio Dev Container](https://github.com/draschke/my-SAP-exercises-with-VSCode#microsoft---vs-code-dev-container) which gives me the possibility to start more quickly the same exercises with the required dev environment.">
    <meta name="twitter:creator" content="Dirk Raschke">
    <meta name="twitter:site" content="draschke@googlemail.com">
    <meta name="twitter:image:alt" content="SAP App Development exercises with VS Code Dev Container">
    <meta name="twitter:image" content="https://draschke.github.io/my-SAP-exercises-with-VSCode/path_1200_627.jpg">
    <meta name="description" content="For a faster and better traceability of the exercises I decided to use the [Visual Studio Dev Container](https://github.com/draschke/my-SAP-exercises-with-VSCode#microsoft---vs-code-dev-container) which gives me the possibility to start more quickly the same exercises with the required dev environment.">
    <meta name="keywords" content="SAP HANA exercises, SAP HANA XSA tutorial, VS Code Dev Container, SAP HANA XSA Application Architect, SAP HANA BTP, SAPUI5, SAP Fiori, DevOps, Kubernetes, K8s, Kyma, JavaScript, Node.js">
    <meta name="author" content="Dirk Raschke">
    <meta name="google-site-verification" content="fIcc0ZHuxODrjX67vMWV1Bm0JM-eGz04Fm4Fy6jAez0">
    <meta name="title" content="Run a CAP Application on Kyma">
    <meta name="keywords" content="SAP HANA BTP, CAP, K8s, Kyma, Kubernetes, DevOps, VS Code Dev Container">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/my-SAP-exercises-with-VSCode/" aria-label="My journey through SAP App Development exercises, back to home" data-v-675d8756 data-v-4a583abe><!----> My journey through SAP App Development exercises</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/my-SAP-exercises-with-VSCode/" data-v-b8818f8c>Home <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/my-SAP-exercises-with-VSCode/config/basics" data-v-b8818f8c>Exercises <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/draschke/my-SAP-exercises-with-VSCode/releases" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>Release Notes <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/draschke/my-SAP-exercises-with-VSCode" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/my-SAP-exercises-with-VSCode/" data-v-b8818f8c>Home <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/my-SAP-exercises-with-VSCode/config/basics" data-v-b8818f8c>Exercises <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/draschke/my-SAP-exercises-with-VSCode/releases" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>Release Notes <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/draschke/my-SAP-exercises-with-VSCode" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item">Exercises</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/basics">Basics</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Exercises: App dev on SAP BTP</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item active" href="/my-SAP-exercises-with-VSCode/config/App-dev-on-SAP-BTP/Run-a-CAP-Application-on-Kyma">Run a CAP Application on Kyma, 19.08.2021</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#run-the-cap-application-locally-in-a-dev-container">Run the CAP application locally in a Dev Container</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#start-the-cap-app-in-a-separate-folder-with-the-command-code">Start the CAP app in a separate folder with the command &quot;code .&quot;</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#run-the-docker-container">Run the Docker Container</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#run-your-cap-service">Run Your CAP Service</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#deploy-to-kyma">Deploy to Kyma</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#push-the-docker-image-my-journey-comes-to-the-end">Push the docker image (my journey comes to the end)</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#any-help-to-solve-the-problem-would-be-great">Any help to solve the problem would be great</a><!----></li></ul></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Exercises: SAP-Tech-Bytes</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/SAP-Tech-Bytes/Using-GitHub-Actions-to-Deploy-Continuously-to-Kyma-K8s-Cluster">Using GitHub Actions to Deploy Continuously to Kyma K8s Cluster, 8.09.2021</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Exercises: Blogs-SAP-Com</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/Blogs-SAP-Com/Build-SAP-Overview-Page-using-SAP-HANA-Cloud-with-VS-Code">Build SAP Overview Page using SAP HANA Cloud with VS Code, 25.08.2021</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/Blogs-SAP-Com/Deploy-a-simple-Nodejs-app-to-XSA-platform">Deploy a simple Node.js app to XSA platform with VS Code, 7.09.2021</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/Blogs-SAP-Com/Create-a-OData-service-with-Nodejs-by-using-CAP-with-VS-Code">Create a OData service with Nodejs by using CAP with VS Code, 29.10.2021</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/Blogs-SAP-Com/Add-a-piechart-into-the-openui5-sample-app">Add a piechart into the openui5 sample app, 15.11.2021</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/Blogs-SAP-Com/Devtoberfest-2021-Frontend-Week-Coding-Challenge">Devtoberfest 2021 Frontend Week Coding Challenge, 15.11.2021</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 id="run-a-cap-application-on-kyma" tabindex="-1">Run a CAP Application on Kyma <a class="header-anchor" href="#run-a-cap-application-on-kyma" aria-hidden="true">#</a></h1><ul><li><p><a href="https://sap-samples.github.io/cloud-cap-risk-management/Kyma/" target="_blank" rel="noopener noreferrer">Run a CAP Application on Kyma</a> with this <a href="https://github.com/draschke/vsc-sap-hana-mta-dev-env-node14x/blob/ef0b07b2c5621b9daead27db90d8c2f1ace6bc2a/.devcontainer" target="_blank" rel="noopener noreferrer">VS Dev Container</a></p></li><li><p>You can follow all the steps outlined here without having to install anything else if you use this mentioned <a href="https://github.com/draschke/vsc-sap-hana-mta-dev-env-node14x/blob/ef0b07b2c5621b9daead27db90d8c2f1ace6bc2a/.devcontainer" target="_blank" rel="noopener noreferrer">VS Dev Container</a>.<br> This walkthrough only provides my additional quidance for this awesome tutorial from SAP.</p></li></ul><h2 id="run-the-cap-application-locally-in-a-dev-container" tabindex="-1">Run the CAP application locally in a Dev Container <a class="header-anchor" href="#run-the-cap-application-locally-in-a-dev-container" aria-hidden="true">#</a></h2><p><img src="/my-SAP-exercises-with-VSCode/assets/1cap-kyma-app.6eaab491.png" alt="Dev Container for CAP on Kyma"></p><h2 id="start-the-cap-app-in-a-separate-folder-with-the-command-code" tabindex="-1">Start the CAP app in a separate folder with the command &quot;code .&quot; <a class="header-anchor" href="#start-the-cap-app-in-a-separate-folder-with-the-command-code" aria-hidden="true">#</a></h2><div class="language-bash line-numbers-mode"><pre><code>node ➜ /workspaces/vsc-sap-hana-mta-dev-env-node14x/cap-kyma-app <span class="token punctuation">(</span>main ✗<span class="token punctuation">)</span>
$ code <span class="token builtin class-name">.</span>  
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="/my-SAP-exercises-with-VSCode/assets/1cap-kyma-app.6eaab491.png" alt="CAP folder"></p><p>Build the docker image locally</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ /workspaces/vsc-sap-hana-mta-dev-env-node14x/cap-kyma-app <span class="token punctuation">(</span>main ✗<span class="token punctuation">)</span>
$ docker build -t cpapp <span class="token builtin class-name">.</span> 
    --<span class="token operator">&gt;</span> Image: cpapp:latest <span class="token punctuation">(</span>030cbbeca7fb<span class="token punctuation">)</span>   
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="/my-SAP-exercises-with-VSCode/assets/3create-image-cap-kyma-app.626dae6a.png" alt="Check for the image via VS Code"></p><h2 id="run-the-docker-container" tabindex="-1">Run the Docker Container <a class="header-anchor" href="#run-the-docker-container" aria-hidden="true">#</a></h2><p>You can run the docker container and look inside its contents</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ /workspaces/vsc-sap-hana-mta-dev-env-node14x/cap-kyma-app <span class="token punctuation">(</span>main ✗<span class="token punctuation">)</span>
$ docker run -p <span class="token number">4004</span>:4004 -t cpapp 
    --<span class="token operator">&gt;</span> Image: cpapp:latest <span class="token punctuation">(</span>030cbbeca7fb<span class="token punctuation">)</span>   
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="run-your-cap-service" tabindex="-1">Run Your CAP Service <a class="header-anchor" href="#run-your-cap-service" aria-hidden="true">#</a></h2><p>Check for the created container</p><p>Attach Shell</p><p><img src="/my-SAP-exercises-with-VSCode/assets/4attach-shell-cap-kyma-app.4d7a5c2b.png" alt="attach-shell-cap-kyma-app"></p><p>Check for your files: commad ls</p><p><img src="/my-SAP-exercises-with-VSCode/assets/5-ls-attach-shell-cap-kyma-app.74e2c8a9.png" alt="ls-attach-shell-cap-kyma-app"></p><p>Run the container using the side bar of VS Code</p><p><img src="/my-SAP-exercises-with-VSCode/assets/8-run-container-locally-cap-kyma-app.38633d57.png" alt="run-container-locally-cap-kyma-app"></p><p><img src="/my-SAP-exercises-with-VSCode/assets/6-open-in-browser-shell-cap-kyma-app.a3a49b6b.png" alt="open-in-browser-shell"></p><p><img src="/my-SAP-exercises-with-VSCode/assets/7-browser-shell-cap-kyma-app.58a1ca9e.png" alt="browser-shell-cap-kyma"></p><h2 id="deploy-to-kyma" tabindex="-1">Deploy to Kyma <a class="header-anchor" href="#deploy-to-kyma" aria-hidden="true">#</a></h2><p>Log In to Kyma (Kubernetes Cluster)</p><p>Get your Kubeconfig as described (CF Login required)</p><p>Update your kubeconfig.yml (keep in mind, secrets on Kyma are changing all 8 hours (I guess))</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ /workspaces/vsc-sap-hana-mta-dev-env-node14x/cap-kyma-app <span class="token punctuation">(</span>main ✗<span class="token punctuation">)</span>
$ <span class="token function">env</span> <span class="token operator">|</span> <span class="token function">grep</span> KUBECONFIG
<span class="token assign-left variable">KUBECONFIG</span><span class="token operator">=</span>/usr/local/share/kube-devcontainer/kubeconfig.yml   
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Maybe you want to establish a CLI connection</p><div class="language-bash line-numbers-mode"><pre><code>cf login -a https://api.cf.eu10.hana.ondemand.com -u email -p psw --skip-ssl-validation
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Check for your pods, if you have any</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ /workspaces/vsc-sap-hana-mta-dev-env-node14x/cap-kyma-app <span class="token punctuation">(</span>main ✗<span class="token punctuation">)</span>
$ kubectl get pods
No resources found <span class="token keyword">in</span> default namespace.
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Check for your namespaces</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ /workspaces/vsc-sap-hana-mta-dev-env-node14x/cap-kyma-app <span class="token punctuation">(</span>main ✗<span class="token punctuation">)</span>
$ kubectl get namespaces
NAME               STATUS   AGE
compass-system     Active   8d
default            Active   8d
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Prepare the Docker Registry as described</p><p>Add the stable Helm Chart repository to the helm CLI</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ /workspaces/vsc-sap-hana-mta-dev-env-node14x/cap-kyma-app <span class="token punctuation">(</span>main ✗<span class="token punctuation">)</span>
$ helm repo <span class="token function">add</span> stable https://charts.helm.sh/stable
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Install the Helm Chart for a docker registry</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ /workspaces/vsc-sap-hana-mta-dev-env-node14x/cap-kyma-app <span class="token punctuation">(</span>main ✗<span class="token punctuation">)</span>
$ helm <span class="token function">install</span> docker-registry stable/docker-registry
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>You need to make the docker registry available on the public internet. The details to this step are explained later. Run the following commands</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ /workspaces/vsc-sap-hana-mta-dev-env-node14x/cap-kyma-app <span class="token punctuation">(</span>main ✗<span class="token punctuation">)</span> 
$ kubectl apply -f - <span class="token operator">&lt;&lt;</span><span class="token string">EOF
apiVersion: gateway.kyma-project.io/v1alpha1
kind: APIRule
metadata:
  labels:
    app: docker-registry
  name: docker-registry
spec:
  service:
    host: docker-registry
    name: docker-registry
    port: 5000
  gateway: kyma-gateway.kyma-system.svc.cluster.local
  rules:
    - path: /.*
      methods: [&quot;GET&quot;, &quot;HEAD&quot; ]
      accessStrategies:
        - handler: noop
      mutators: []
EOF</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="push-the-docker-image-my-journey-comes-to-the-end" tabindex="-1">Push the docker image (my journey comes to the end) <a class="header-anchor" href="#push-the-docker-image-my-journey-comes-to-the-end" aria-hidden="true">#</a></h2><div class="language-bash line-numbers-mode"><pre><code>node ➜ /workspaces/vsc-sap-hana-mta-dev-env-node14x/cap-kyma-app <span class="token punctuation">(</span>main ✗<span class="token punctuation">)</span>
$ kubectl port-forward deployment/docker-registry <span class="token number">5000</span>:5000 <span class="token operator">&amp;</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">6219</span>

node ➜ /workspaces/vsc-sap-hana-mta-dev-env-node14x/cap-kyma-app <span class="token punctuation">(</span>main ✗<span class="token punctuation">)</span> 
my output:
Forwarding from <span class="token number">127.0</span>.0.1:5000 -<span class="token operator">&gt;</span> <span class="token number">5000</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>Issue: connection refused</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ /workspaces/vsc-sap-hana-mta-dev-env-node14x/cap-kyma-app <span class="token punctuation">(</span>main ✗<span class="token punctuation">)</span>
$ docker push <span class="token number">0.0</span>.0.0:5000/cpapp
The push refers to repository <span class="token punctuation">[</span><span class="token number">0.0</span>.0.0:5000/cpapp<span class="token punctuation">]</span>
Get http://0.0.0.0:5000/v2/: dial tcp <span class="token number">0.0</span>.0.0:5000: connect: connection refused
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Issue: It don&#39;t see this expected output</p><div class="language-bash line-numbers-mode"><pre><code>Forwarding from <span class="token number">127.0</span>.0.1:5000 -<span class="token operator">&gt;</span> <span class="token number">5000</span>
Forwarding from <span class="token punctuation">[</span>::1<span class="token punctuation">]</span>:5000 -<span class="token operator">&gt;</span> <span class="token number">5000</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="/my-SAP-exercises-with-VSCode/assets/9-docker-push-cap-kyma-app.a5b4694b.png" alt="Issue Push Image failed"></p><h2 id="any-help-to-solve-the-problem-would-be-great" tabindex="-1">Any help to solve the problem would be great <a class="header-anchor" href="#any-help-to-solve-the-problem-would-be-great" aria-hidden="true">#</a></h2><p><a href="https://github.com/draschke/vsc-sap-hana-mta-dev-env-node14x/issues/5" target="_blank" rel="noopener noreferrer">Issue Push Image failed</a></p></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><a class="link" href="https://github.com/draschke/my-SAP-exercises-with-VSCode/edit/master/docs/config/App-dev-on-SAP-BTP/Run-a-CAP-Application-on-Kyma.md" target="_blank" rel="noopener noreferrer" data-v-1ed99556>Edit this page on GitHub <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-1ed99556><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-fb8d84c6><p class="last-updated" data-v-fb8d84c6 data-v-5797b537><span class="prefix" data-v-5797b537>Last Updated:</span><span class="datetime" data-v-5797b537></span></p></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/my-SAP-exercises-with-VSCode/config/basics" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>Basics</span></a></div><div class="next" data-v-38ede35f><a class="link" href="/my-SAP-exercises-with-VSCode/config/SAP-Tech-Bytes/Using-GitHub-Actions-to-Deploy-Continuously-to-Kyma-K8s-Cluster" data-v-38ede35f><span class="text" data-v-38ede35f>Using GitHub Actions to Deploy Continuously to Kyma K8s Cluster, 8.09.2021</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"config_app-dev-on-sap-btp_run-a-cap-application-on-kyma.md\":\"1e98f68a\",\"config_blogs-sap-com_add-a-piechart-into-the-openui5-sample-app.md\":\"ee14a2d3\",\"config_blogs-sap-com_build-sap-overview-page-using-sap-hana-cloud-with-vs-code.md\":\"e26c8e08\",\"config_blogs-sap-com_create-a-odata-service-with-nodejs-by-using-cap-with-vs-code.md\":\"e6f6dd70\",\"config_blogs-sap-com_deploy-a-simple-nodejs-app-to-xsa-platform.md\":\"3f6e83ad\",\"config_blogs-sap-com_develop-and-deploy-the-repositiory-bmp.md\":\"b9283637\",\"config_blogs-sap-com_devtoberfest-2021-frontend-week-coding-challenge.md\":\"90b3f20b\",\"config_sap-tech-bytes_using-github-actions-to-deploy-continuously-to-kyma-k8s-cluster.md\":\"8c1f51b9\",\"config_basics.md\":\"76c51a1a\",\"index.md\":\"6ad5db5c\"}")</script>
    <script type="module" async src="/my-SAP-exercises-with-VSCode/assets/app.80f3e7ce.js"></script>
    
  </body>
</html>