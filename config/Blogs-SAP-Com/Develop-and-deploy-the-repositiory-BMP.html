<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Develop and deploy the repository BMP (Bundeseinheitlicher Medikationsplan) on your local System with VS Code to a SAP HANA XSA | My journey through SAP App Development exercises</title>
    <meta name="description" content="Develop and deploy the repositiory BMP (Bundeseinheitlicher Medikationsplan) using the XS CLI to SAP HANA XSA by running Visual VS Code Dev Container, which already contains all of the required programs. In the end you'll be able to develop your app locally using VS Code">
    <link rel="stylesheet" href="/my-SAP-exercises-with-VSCode/assets/style.d82f6ee1.css">
    <link rel="modulepreload" href="/my-SAP-exercises-with-VSCode/assets/Home.d7415ca6.js">
    <link rel="modulepreload" href="/my-SAP-exercises-with-VSCode/assets/app.80f3e7ce.js">
    <link rel="modulepreload" href="/my-SAP-exercises-with-VSCode/assets/config_Blogs-SAP-Com_Develop-and-deploy-the-repositiory-BMP.md.b9283637.lean.js">
    <link rel="modulepreload" href="/my-SAP-exercises-with-VSCode/assets/app.80f3e7ce.js">
    <meta prefix="og: http://ogp.me/ns#" property="og:title" content="SAP App Development exercises with VS Code Dev Container">
    <meta prefix="og: http://ogp.me/ns#" property="og:type" content="article">
    <meta prefix="og: http://ogp.me/ns#" property="og:url" content="https://draschke.github.io/my-SAP-exercises-with-VSCode/">
    <meta prefix="og: http://ogp.me/ns#" property="og:description" content="For a faster and better traceability of the exercises I decided to use the [Visual Studio Dev Container](https://github.com/draschke/my-SAP-exercises-with-VSCode#microsoft---vs-code-dev-container) which gives me the possibility to start more quickly the same exercises with the required dev environment.">
    <meta prefix="og: http://ogp.me/ns#" property="og:article:author" content="Dirk Raschke">
    <meta prefix="og: http://ogp.me/ns#" property="og:site_name" content="SAP App Development exercises with VS Code Dev Container">
    <meta prefix="og: http://ogp.me/ns#" property="og:locale" content="en_US">
    <meta prefix="og: http://ogp.me/ns#" property="og:locale:alternate" content="en_GB">
    <meta prefix="og: http://ogp.me/ns#" property="og:image" content="https://draschke.github.io/my-SAP-exercises-with-VSCode/path_1200_627.jpg">
    <meta prefix="og: http://ogp.me/ns#" property="og:image:width" content="1200">
    <meta prefix="og: http://ogp.me/ns#" property="og:image:height" content="627">
    <meta prefix="og: http://ogp.me/ns#" property="og:image" content="https://draschke.github.io/my-SAP-exercises-with-VSCode/path_600_314.jpg">
    <meta prefix="og: http://ogp.me/ns#" property="og:image:width" content="600">
    <meta prefix="og: http://ogp.me/ns#" property="og:image:height" content="314">
    <meta prefix="og: http://ogp.me/ns#" property="og:image" content="https://draschke.github.io/my-SAP-exercises-with-VSCode/path_1200_627.jpg">
    <meta prefix="og: http://ogp.me/ns#" property="og:image:alt" content="SAP App Development exercises with VS Code Dev Container">
    <meta name="twitter:title" content="SAP App Development exercises with VS Code Dev Container">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="For a faster and better traceability of the exercises I decided to use the [Visual Studio Dev Container](https://github.com/draschke/my-SAP-exercises-with-VSCode#microsoft---vs-code-dev-container) which gives me the possibility to start more quickly the same exercises with the required dev environment.">
    <meta name="twitter:creator" content="Dirk Raschke">
    <meta name="twitter:site" content="draschke@googlemail.com">
    <meta name="twitter:image:alt" content="SAP App Development exercises with VS Code Dev Container">
    <meta name="twitter:image" content="https://draschke.github.io/my-SAP-exercises-with-VSCode/path_1200_627.jpg">
    <meta name="description" content="For a faster and better traceability of the exercises I decided to use the [Visual Studio Dev Container](https://github.com/draschke/my-SAP-exercises-with-VSCode#microsoft---vs-code-dev-container) which gives me the possibility to start more quickly the same exercises with the required dev environment.">
    <meta name="keywords" content="SAP HANA exercises, SAP HANA XSA tutorial, VS Code Dev Container, SAP HANA XSA Application Architect, SAP HANA BTP, SAPUI5, SAP Fiori, DevOps, Kubernetes, K8s, Kyma, JavaScript, Node.js">
    <meta name="author" content="Dirk Raschke">
    <meta name="google-site-verification" content="fIcc0ZHuxODrjX67vMWV1Bm0JM-eGz04Fm4Fy6jAez0">
    <meta name="title" content="Develop and deploy the repositiory BMP (Bundeseinheitlicher Medikationsplan) on your local System with VS Code to a SAP HANA XSA system">
    <meta name="keywords" content="Bundeseinheitlicher Medikationsplan, BMP, deploy app to XSA, SAP HANA XSA, VS Code Dev Container, xs, xs-client">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/my-SAP-exercises-with-VSCode/" aria-label="My journey through SAP App Development exercises, back to home" data-v-675d8756 data-v-4a583abe><!----> My journey through SAP App Development exercises</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/my-SAP-exercises-with-VSCode/" data-v-b8818f8c>Home <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/my-SAP-exercises-with-VSCode/config/basics" data-v-b8818f8c>Exercises <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/draschke/my-SAP-exercises-with-VSCode/releases" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>Release Notes <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/draschke/my-SAP-exercises-with-VSCode" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/my-SAP-exercises-with-VSCode/" data-v-b8818f8c>Home <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/my-SAP-exercises-with-VSCode/config/basics" data-v-b8818f8c>Exercises <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/draschke/my-SAP-exercises-with-VSCode/releases" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>Release Notes <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/draschke/my-SAP-exercises-with-VSCode" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item">Exercises</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/basics">Basics</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Exercises: App dev on SAP BTP</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/App-dev-on-SAP-BTP/Run-a-CAP-Application-on-Kyma">Run a CAP Application on Kyma, 19.08.2021</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Exercises: SAP-Tech-Bytes</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/SAP-Tech-Bytes/Using-GitHub-Actions-to-Deploy-Continuously-to-Kyma-K8s-Cluster">Using GitHub Actions to Deploy Continuously to Kyma K8s Cluster, 8.09.2021</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Exercises: Blogs-SAP-Com</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/Blogs-SAP-Com/Build-SAP-Overview-Page-using-SAP-HANA-Cloud-with-VS-Code">Build SAP Overview Page using SAP HANA Cloud with VS Code, 25.08.2021</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/Blogs-SAP-Com/Deploy-a-simple-Nodejs-app-to-XSA-platform">Deploy a simple Node.js app to XSA platform with VS Code, 7.09.2021</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/Blogs-SAP-Com/Create-a-OData-service-with-Nodejs-by-using-CAP-with-VS-Code">Create a OData service with Nodejs by using CAP with VS Code, 29.10.2021</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/Blogs-SAP-Com/Add-a-piechart-into-the-openui5-sample-app">Add a piechart into the openui5 sample app, 15.11.2021</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/Blogs-SAP-Com/Devtoberfest-2021-Frontend-Week-Coding-Challenge">Devtoberfest 2021 Frontend Week Coding Challenge, 15.11.2021</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 id="develop-and-deploy-the-repository-bmp-bundeseinheitlicher-medikationsplan-on-your-local-system-with-vs-code-to-a-sap-hana-xsa" tabindex="-1">Develop and deploy the repository BMP (Bundeseinheitlicher Medikationsplan) on your local System with VS Code to a SAP HANA XSA <a class="header-anchor" href="#develop-and-deploy-the-repository-bmp-bundeseinheitlicher-medikationsplan-on-your-local-system-with-vs-code-to-a-sap-hana-xsa" aria-hidden="true">#</a></h1><p>In this exercise I will show how to set up a local dev environment for the node.js app <a href="https://github.com/draschke/BMP.git" target="_blank" rel="noopener noreferrer">BMP</a>.</p><p>You can follow all my steps with this <a href="https://draschke.github.io/vsc-sap-hana-mta-dev-env-node12x/" target="_blank" rel="noopener noreferrer">VS Dev Container for Node.js 12x</a></p><p>Be aware that I don&#39;t use Docker Desktop anymore. <a href="https://dev.to/bowmanjd/install-docker-on-windows-wsl-without-docker-desktop-34m9" target="_blank" rel="noopener noreferrer">Docker on Windows (WSL) without Docker Desktop</a></p><h2 id="preparations" tabindex="-1">Preparations <a class="header-anchor" href="#preparations" aria-hidden="true">#</a></h2><ul><li>Use <a href="https://draschke.github.io/vsc-sap-hana-mta-dev-env-node12x/" target="_blank" rel="noopener noreferrer">VS Dev Container Nodejs12x</a> and <em><strong>no additional installations</strong></em> are necessary for this exercise!</li><li>You need the <a href="https://draschke.github.io/vsc-sap-hana-mta-dev-env-node12x/#xs-client-for-sap-hana-xsa-only-required-for-connecting-a-xsa-platform" target="_blank" rel="noopener noreferrer">XS Client</a> for XSA deployment.</li><li>Clone this repo <a href="https://github.com/draschke/BMP.git" target="_blank" rel="noopener noreferrer">BMP</a> in a directory of your choice</li></ul><h3 id="sap-hana-document-store-docstore" tabindex="-1">SAP HANA Document Store (DocStore) <a class="header-anchor" href="#sap-hana-document-store-docstore" aria-hidden="true">#</a></h3><ul><li>For this project you have to enable the <a href="https://help.sap.com/viewer/4505d0bdaf4948449b7f7379d24d0f0d/2.0.05/en-US/3872240967ec4e4ea030524985dac73b.html" target="_blank" rel="noopener noreferrer">DocStore</a> in your HANA System</li></ul><div class="language-sql line-numbers-mode"><pre><code><span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> <span class="token operator">&lt;</span><span class="token keyword">database</span> name<span class="token operator">&gt;</span> <span class="token keyword">ADD</span> <span class="token string">&#39;docstore&#39;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="sap-hana-cloud-document-store-docstore" tabindex="-1">SAP HANA Cloud Document Store (DocStore) <a class="header-anchor" href="#sap-hana-cloud-document-store-docstore" aria-hidden="true">#</a></h3><p>If you like to try this project on SCP, it won&#39;t work if you use only a trial-account. More information you&#39;ll find here: <a href="https://answers.sap.com/questions/13207475/how-to-enable-docstore-on-sap-hana-cloud.html" target="_blank" rel="noopener noreferrer">How to enable docstore on SAP HANA Cloud?</a></p><h2 id="set-up-for-vs-code-dev-container-as-you-can-see-we-are-inside-of-a-vs-dev-container-it-includes-everything-we-need" tabindex="-1">Set up for VS Code Dev Container (As you can see, we are inside of a VS Dev Container. It includes everything we need.) <a class="header-anchor" href="#set-up-for-vs-code-dev-container-as-you-can-see-we-are-inside-of-a-vs-dev-container-it-includes-everything-we-need" aria-hidden="true">#</a></h2><p><img src="/my-SAP-exercises-with-VSCode/assets/1-init.b2cccf1a.png" alt="Set up for VS Code"></p><h2 id="let-s-start" tabindex="-1">Let&#39;s start <a class="header-anchor" href="#let-s-start" aria-hidden="true">#</a></h2><h3 id="step-1-login-to-your-space" tabindex="-1">Step 1: Login to your space <a class="header-anchor" href="#step-1-login-to-your-space" aria-hidden="true">#</a></h3><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./BMP <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span>
$ xs login -a https:// -u user -p psw -s space --skip-ssl-validation
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="step-2-check-for-your-node-js-runtime-environment" tabindex="-1">Step 2: Check for your node.js runtime environment <a class="header-anchor" href="#step-2-check-for-your-node-js-runtime-environment" aria-hidden="true">#</a></h3><p>This project requires 12.x</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./BMP <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span>
$ xs runtimes
<span class="token builtin class-name">type</span>                  version   <span class="token function">id</span>   resolved   active   description                                    bound apps
------------------------------------------------------------------------------------------------------------------
node12.20             <span class="token number">0.0</span>       <span class="token number">31</span>   <span class="token boolean">true</span>       <span class="token boolean">true</span>     Node.js <span class="token number">12.20</span>.0 <span class="token keyword">for</span> Linux x86-64               <span class="token number">15</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="step-3-install-npm-module" tabindex="-1">Step 3: Install npm module <a class="header-anchor" href="#step-3-install-npm-module" aria-hidden="true">#</a></h3><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./BMP <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span>
node ➜ <span class="token punctuation">..</span>./BMP <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span> $ <span class="token function">npm</span> i
node ➜ <span class="token punctuation">..</span>./BMP <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span> $ <span class="token function">npm</span> audit fix
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>In order to set up a fast local development environment for our project, it is the best to deploy the mtar file at first. Because all of the required programs are already installed (if you used this devcontainer) you can build the .mtar file manually.</p><h3 id="step-4-build-and-deploy-the-mtar-file" tabindex="-1">Step 4: Build and Deploy the .mtar file <a class="header-anchor" href="#step-4-build-and-deploy-the-mtar-file" aria-hidden="true">#</a></h3><p>Build the .mtar file.</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./BMP <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span>
$ mbt build -t ./

output:
INFO the MTA archive generated at: BMP_1.0.5.mtar
INFO cleaning temporary files<span class="token punctuation">..</span>.
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>If everything went well, you will find the BMP_x.mtar file in your project.</p><p>Deploy the mtar file.</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./BMP <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span>
$ xs deploy BMP_1.0.5.mtar --use-namespaces
<span class="token punctuation">..</span>.
Process finished.
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>The cool thing is that you do not need to create and bind the services manually, everything happens automatically, because the information is described within the mta.yaml file.</p><p>New created services</p><ul><li>name: bmp-uaa</li><li>name: hdi-bmp-db</li></ul><p>Step 5: Look to the apps</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./BMP
$ xs a
name         requested state   instances   memory    disk          alerts   urls
------------------------------------------------------------------------------------------------------------------------------
BMP.db       STOPPED           <span class="token number">0</span>/1         <span class="token number">128</span> MB    <span class="token number">256</span> MB                 <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>
BMP.js       STARTED           <span class="token number">1</span>/1         <span class="token number">128</span> MB    <span class="token number">512</span> MB                 https://orgname-dev-js.host.domain.com
BMP.web      STARTED           <span class="token number">1</span>/1         <span class="token number">1.00</span> GB   <span class="token number">512</span> MB                 https://orgname-dev-web.host.domain.com
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>If the BMP.js and the <a href="http://BMP.web" target="_blank" rel="noopener noreferrer">BMP.web</a> apps are running (1/1) we can move forward and look to the new created services.</p><p>Step 6: Look to the binding and the status of the services Here you will see the binding of the uaa service on your XSA system. This is what we need locally for our dev environment.</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./BMP <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span>
$ xs <span class="token function">service</span> BMP.bmp-uaa
Service instance:   BMP.bmp-uaa
Service:            xsuaa
Bound apps:         BMP.js, BMP.web
Status:             succeeded
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./BMP <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span>
$ xs <span class="token function">service</span> BMP.hdi-bmp-db
Service instance:   BMP.hdi-bmp-db
Service:            hana
Bound apps:         BMP.db, BMP.js
Status:             succeeded
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Everything looks good, let&#39;s get the environment variables.</p><p>Step 7: Go to db app and fetch the env variables for &quot;BMP.db&quot;</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./BMP <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span> $ <span class="token builtin class-name">cd</span> db
node ➜ <span class="token punctuation">..</span>./BMP/db <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span> $ xs <span class="token function">env</span> BMP.db <span class="token operator">&gt;</span> envBMPdb.json
node ➜ <span class="token punctuation">..</span>./BMP/db <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span> $ <span class="token function">cp</span> envBMPdb.json default-env.json
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Go to the file db/default-env.json and remove everything outside the system-provided brackets {}. Now let&#39;s test the connection.</p><p>Step 7: Check the connection: hana-cli status</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./BMP/db <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span> 
$ hana-cli status
Using Connection Configuration loaded via default-env.json 
Current User                                                   Current Schema                  
-------------------------------------------------------------  --------------------------------
0C68B8C61AD14EBA8AB46B47B327C5D0_BQU7KHCUERIJZBWR6E0AH0R9Y_RT  0C68B8C61AD14EBA8AB46B47B327C5D0
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Great, it works! Next, let&#39;s look at the tables</p><p>Step 7: Check for the tables</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./BMP/db <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span> $ hana-cli tables
Using Connection Configuration loaded via default-env.json 

SCHEMA_NAME                       TABLE_NAME                          TABLE_OID  COMMENTS
--------------------------------  ----------------------------------  ---------  --------
0C68B8C61AD14EBA8AB46B47B327C5D0  A_Ersteller                         <span class="token number">51325720</span>   null
0C68B8C61AD14EBA8AB46B47B327C5D0  A_MedDarreichungsform               <span class="token number">51325734</span>   null
0C68B8C61AD14EBA8AB46B47B327C5D0  A_MedDosiereinheit                  <span class="token number">51325742</span>   null
0C68B8C61AD14EBA8AB46B47B327C5D0  A_MedDosierung                      <span class="token number">51325749</span>   null
0C68B8C61AD14EBA8AB46B47B327C5D0  A_MedHandelsname                    <span class="token number">51325758</span>   null
0C68B8C61AD14EBA8AB46B47B327C5D0  A_MedWirkstoff                      <span class="token number">51325767</span>   null
0C68B8C61AD14EBA8AB46B47B327C5D0  A_Zwischenueberschrift              <span class="token number">51325774</span>   null
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>Step 7: Check for the data of tables</p><p>Yes, this project contains required data for some tables, which were added with the deployment.</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./BMP/db <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span> 
$ hana-cli qs -o <span class="token string">&quot;table&quot;</span> -q <span class="token string">&#39;SELECT TOP 10 * FROM &quot;A_MedWirkstoff&quot;&#39;</span>
Using Connection Configuration loaded via default-env.json 

BezeichnungID  Bezeichnung                                    
-------------  -----------------------------------------------
<span class="token number">1</span>              <span class="token punctuation">(</span><span class="token number">3</span>-sn-Phosphatidyl<span class="token punctuation">)</span>cholin                      
<span class="token number">2</span>              <span class="token number">2,3</span>-Dimercapto-1-propansulfonsäure, Natriumsalz
<span class="token number">3</span>              <span class="token number">4</span>-Aminomethylbenzoesäure                       
<span class="token number">4</span>              <span class="token number">4</span>-Aminosalicylsäure                            
<span class="token number">5</span>              <span class="token number">4</span>-Dimethylaminophenol                          
<span class="token number">6</span>              Abacavir                                       
<span class="token number">7</span>              Abatacept                                      
<span class="token number">8</span>              Abciximab                                      
<span class="token number">9</span>              Acarbose                                       
<span class="token number">10</span>             Acebutolol     
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>You will find the csv files here.</p><p><img src="/my-SAP-exercises-with-VSCode/assets/csv-required-data.da2570d3.png" alt="Set up for VS Code"></p><p>Step 7: Install the npm modul - npm i</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./BMP/db <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span> $ <span class="token function">npm</span> i
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Step 7: Run your deployment locally - npm run start</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./BMP/db <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span> $ <span class="token function">npm</span> run start
<span class="token operator">&gt;</span> deploy@ start <span class="token punctuation">..</span>./BMP/db
<span class="token operator">&gt;</span> node node_modules/@sap/hdi-deploy/deploy.js  --auto-undeploy
Working <span class="token punctuation">..</span>.
@sap/hdi-deploy, version <span class="token number">4.2</span>.0 <span class="token punctuation">(</span>mode default<span class="token punctuation">)</span>, server version <span class="token number">2.00</span>.051.00.1596053985 <span class="token punctuation">(</span><span class="token number">2.0</span>.51.0<span class="token punctuation">)</span>, node version <span class="token number">12.22</span>.6, HDI version <span class="token number">4</span>, container API version <span class="token number">44</span>
Deployment started at <span class="token number">2021</span>-10-01 <span class="token number">11</span>:26:36
<span class="token punctuation">..</span>.
Deployment ended at <span class="token number">2021</span>-10-01 <span class="token number">11</span>:27:29
<span class="token punctuation">(</span>89s 575ms<span class="token punctuation">)</span>
Application can be stopped.
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="bmp-js-app" tabindex="-1"><code>BMP.js</code> app <a class="header-anchor" href="#bmp-js-app" aria-hidden="true">#</a></h2><p>Step 7: Fetch env variables for app <code>BMP.js</code></p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./BMP <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span> $ <span class="token builtin class-name">cd</span> js
node ➜ <span class="token punctuation">..</span>./BMP/js <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span> $ xs <span class="token function">env</span> BMP.js <span class="token operator">&gt;</span> envBMPjs.json
node ➜ <span class="token punctuation">..</span>./BMP/js <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span> $ <span class="token function">cp</span> envBMPjs.json default-env.json
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>As we have done it before, go to the file js/default-env.json and remove everything outside of the system-provided brackets {}.</p><p>Step 7: Install the npm modul - npm i</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./BMP/js <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span> 
$ <span class="token function">npm</span> i
$ <span class="token function">npm</span> audit fix
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Step 7: Run your app locally - npm run start</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./BMP/js <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span> $ <span class="token function">npm</span> run start

<span class="token operator">&gt;</span> js@1.0.0 start <span class="token punctuation">..</span>./BMP/js
<span class="token operator">&gt;</span> node server.js

<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
Server running at port <span class="token number">3000</span>
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Nice, the server is running and waiting. Now we ready to go to the web app.</p><h2 id="bmp-web-app" tabindex="-1"><code>BMP.web</code> app <a class="header-anchor" href="#bmp-web-app" aria-hidden="true">#</a></h2><p>Step 7: Fetch env variables for app <code>BMP.web</code></p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./BMP <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span> $ <span class="token builtin class-name">cd</span> web
node ➜ <span class="token punctuation">..</span>./BMP/web <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span> $ xs <span class="token function">env</span> BMP.web <span class="token operator">&gt;</span> envBMPweb.json
node ➜ <span class="token punctuation">..</span>./BMP/web <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span> $ <span class="token function">cp</span> envBMPweb.json default-env.json
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Again, go to the file js/default-env.json and remove everything outside of the system-provided brackets {}. But this time we have a bit more to do, because we need also the user provided variables.</p><div class="language-bash line-numbers-mode"><pre><code>  <span class="token string">&quot;destinations&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;nodejs_destination&quot;</span>,
      <span class="token string">&quot;url&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;http://localhost:3000&quot;</span>,
      <span class="token string">&quot;forwardAuthToken&quot;</span><span class="token builtin class-name">:</span> true,
      <span class="token string">&quot;strictSSL&quot;</span><span class="token builtin class-name">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>,
  <span class="token string">&quot;SESSION_TIMEOUT&quot;</span><span class="token builtin class-name">:</span> <span class="token number">30</span>,
  <span class="token string">&quot;ui5liburl&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;https://orgname-sap-sapui5-fesv4.host.domain.com&quot;</span>,
  <span class="token string">&quot;XS_APP_LOG_LEVEL&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;error&quot;</span>,
   <span class="token string">&quot;VCAP_APPLICATION&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">..</span>.
   <span class="token punctuation">}</span>,
  <span class="token string">&quot;VCAP_SERVICES&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;xsuaa&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>  <span class="token punctuation">{</span><span class="token punctuation">}</span>   <span class="token punctuation">]</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>Step 7: Install the npm modul - npm i</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./BMP/web <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span> 
$ <span class="token function">npm</span> i
$ <span class="token function">npm</span> audit fix
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Step 7: Start the web app - npm run start</p><p>If everything went fine, you are able to start the app by running npm run start</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./BMP/web <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span> 
$ <span class="token function">npm</span> run start
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="/my-SAP-exercises-with-VSCode/assets/localhost-5000.317995a6.png" alt="Set up for VS Code"></p><h3 id="issues" tabindex="-1">Issues <a class="header-anchor" href="#issues" aria-hidden="true">#</a></h3><p>Issue: login/callback</p><p>If we set the authenticationMethod on &quot;route&quot; we will run in a login/callback issue. Not sure, if this is a proxy or an SSL issue. The property strictSSL should fix the issue, but doesn&#39;t work.</p><div class="language-json line-numbers-mode"><pre><code>default-env.json
<span class="token property">&quot;strictSSL&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-json line-numbers-mode"><pre><code>xs-security.json
<span class="token property">&quot;authenticationMethod&quot;</span><span class="token operator">:</span> <span class="token string">&quot;none&quot;</span> --&gt; <span class="token property">&quot;authenticationMethod&quot;</span><span class="token operator">:</span> <span class="token string">&quot;route&quot;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-bash line-numbers-mode"><pre><code>Request URL: http://localhost:5001/login/callback?code<span class="token operator">=</span>xEbrAeOtuW
Request Method: GET
Status Code: <span class="token number">500</span> Internal Server Error
Remote Address: <span class="token number">127.0</span>.0.1:5001
Referrer Policy: strict-origin-when-cross-origin
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Also, setting the oauth2-configuration does not fix the issue.</p><div class="language-bash line-numbers-mode"><pre><code>xs update-service BMP.bmp-uaa  -c xs-security.json
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;oauth2-configuration&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;redirect-uris&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;http://localhost:5000&quot;</span>
      <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><a class="link" href="https://github.com/draschke/my-SAP-exercises-with-VSCode/edit/master/docs/config/Blogs-SAP-Com/Develop-and-deploy-the-repositiory-BMP.md" target="_blank" rel="noopener noreferrer" data-v-1ed99556>Edit this page on GitHub <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-1ed99556><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-fb8d84c6><p class="last-updated" data-v-fb8d84c6 data-v-5797b537><span class="prefix" data-v-5797b537>Last Updated:</span><span class="datetime" data-v-5797b537></span></p></div></footer><!----><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"config_app-dev-on-sap-btp_run-a-cap-application-on-kyma.md\":\"1e98f68a\",\"config_blogs-sap-com_add-a-piechart-into-the-openui5-sample-app.md\":\"ee14a2d3\",\"config_blogs-sap-com_build-sap-overview-page-using-sap-hana-cloud-with-vs-code.md\":\"e26c8e08\",\"config_blogs-sap-com_create-a-odata-service-with-nodejs-by-using-cap-with-vs-code.md\":\"e6f6dd70\",\"config_blogs-sap-com_deploy-a-simple-nodejs-app-to-xsa-platform.md\":\"3f6e83ad\",\"config_blogs-sap-com_develop-and-deploy-the-repositiory-bmp.md\":\"b9283637\",\"config_blogs-sap-com_devtoberfest-2021-frontend-week-coding-challenge.md\":\"90b3f20b\",\"config_sap-tech-bytes_using-github-actions-to-deploy-continuously-to-kyma-k8s-cluster.md\":\"8c1f51b9\",\"config_basics.md\":\"76c51a1a\",\"index.md\":\"6ad5db5c\"}")</script>
    <script type="module" async src="/my-SAP-exercises-with-VSCode/assets/app.80f3e7ce.js"></script>
    
  </body>
</html>