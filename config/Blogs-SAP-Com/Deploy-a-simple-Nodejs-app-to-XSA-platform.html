<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Deploy a simple Node.js app to XSA platform by leverage Visual VS Code Dev Container | My journey through SAP App Development exercises</title>
    <meta name="description" content="Deploy a Node.js Hello-World Application using the XS CLI to XSA by running Visual VS Code Dev Container, which already contains all of the required programs. In the end you'll be able to develop your app locally using VS Code">
    <link rel="stylesheet" href="/my-SAP-exercises-with-VSCode/assets/style.d82f6ee1.css">
    <link rel="modulepreload" href="/my-SAP-exercises-with-VSCode/assets/Home.d7415ca6.js">
    <link rel="modulepreload" href="/my-SAP-exercises-with-VSCode/assets/app.80f3e7ce.js">
    <link rel="modulepreload" href="/my-SAP-exercises-with-VSCode/assets/config_Blogs-SAP-Com_Deploy-a-simple-Nodejs-app-to-XSA-platform.md.3f6e83ad.lean.js">
    <link rel="modulepreload" href="/my-SAP-exercises-with-VSCode/assets/app.80f3e7ce.js">
    <meta prefix="og: http://ogp.me/ns#" property="og:title" content="SAP App Development exercises with VS Code Dev Container">
    <meta prefix="og: http://ogp.me/ns#" property="og:type" content="article">
    <meta prefix="og: http://ogp.me/ns#" property="og:url" content="https://draschke.github.io/my-SAP-exercises-with-VSCode/">
    <meta prefix="og: http://ogp.me/ns#" property="og:description" content="For a faster and better traceability of the exercises I decided to use the [Visual Studio Dev Container](https://github.com/draschke/my-SAP-exercises-with-VSCode#microsoft---vs-code-dev-container) which gives me the possibility to start more quickly the same exercises with the required dev environment.">
    <meta prefix="og: http://ogp.me/ns#" property="og:article:author" content="Dirk Raschke">
    <meta prefix="og: http://ogp.me/ns#" property="og:site_name" content="SAP App Development exercises with VS Code Dev Container">
    <meta prefix="og: http://ogp.me/ns#" property="og:locale" content="en_US">
    <meta prefix="og: http://ogp.me/ns#" property="og:locale:alternate" content="en_GB">
    <meta prefix="og: http://ogp.me/ns#" property="og:image" content="https://draschke.github.io/my-SAP-exercises-with-VSCode/path_1200_627.jpg">
    <meta prefix="og: http://ogp.me/ns#" property="og:image:width" content="1200">
    <meta prefix="og: http://ogp.me/ns#" property="og:image:height" content="627">
    <meta prefix="og: http://ogp.me/ns#" property="og:image" content="https://draschke.github.io/my-SAP-exercises-with-VSCode/path_600_314.jpg">
    <meta prefix="og: http://ogp.me/ns#" property="og:image:width" content="600">
    <meta prefix="og: http://ogp.me/ns#" property="og:image:height" content="314">
    <meta prefix="og: http://ogp.me/ns#" property="og:image" content="https://draschke.github.io/my-SAP-exercises-with-VSCode/path_1200_627.jpg">
    <meta prefix="og: http://ogp.me/ns#" property="og:image:alt" content="SAP App Development exercises with VS Code Dev Container">
    <meta name="twitter:title" content="SAP App Development exercises with VS Code Dev Container">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="For a faster and better traceability of the exercises I decided to use the [Visual Studio Dev Container](https://github.com/draschke/my-SAP-exercises-with-VSCode#microsoft---vs-code-dev-container) which gives me the possibility to start more quickly the same exercises with the required dev environment.">
    <meta name="twitter:creator" content="Dirk Raschke">
    <meta name="twitter:site" content="draschke@googlemail.com">
    <meta name="twitter:image:alt" content="SAP App Development exercises with VS Code Dev Container">
    <meta name="twitter:image" content="https://draschke.github.io/my-SAP-exercises-with-VSCode/path_1200_627.jpg">
    <meta name="description" content="For a faster and better traceability of the exercises I decided to use the [Visual Studio Dev Container](https://github.com/draschke/my-SAP-exercises-with-VSCode#microsoft---vs-code-dev-container) which gives me the possibility to start more quickly the same exercises with the required dev environment.">
    <meta name="keywords" content="SAP HANA exercises, SAP HANA XSA tutorial, VS Code Dev Container, SAP HANA XSA Application Architect, SAP HANA BTP, SAPUI5, SAP Fiori, DevOps, Kubernetes, K8s, Kyma, JavaScript, Node.js">
    <meta name="author" content="Dirk Raschke">
    <meta name="google-site-verification" content="fIcc0ZHuxODrjX67vMWV1Bm0JM-eGz04Fm4Fy6jAez0">
    <meta name="title" content="Deploy a simple app to XSA platform by running Visual VS Code Dev Container">
    <meta name="keywords" content="xs push, xs deploy, deploy app to XSA, push app to XSA, SAP HANA XSA, XSA, VS Code Dev Container, hana-cli, xs, xs-client">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/my-SAP-exercises-with-VSCode/" aria-label="My journey through SAP App Development exercises, back to home" data-v-675d8756 data-v-4a583abe><!----> My journey through SAP App Development exercises</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/my-SAP-exercises-with-VSCode/" data-v-b8818f8c>Home <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/my-SAP-exercises-with-VSCode/config/basics" data-v-b8818f8c>Exercises <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/draschke/my-SAP-exercises-with-VSCode/releases" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>Release Notes <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/draschke/my-SAP-exercises-with-VSCode" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/my-SAP-exercises-with-VSCode/" data-v-b8818f8c>Home <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/my-SAP-exercises-with-VSCode/config/basics" data-v-b8818f8c>Exercises <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/draschke/my-SAP-exercises-with-VSCode/releases" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>Release Notes <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/draschke/my-SAP-exercises-with-VSCode" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item">Exercises</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/basics">Basics</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Exercises: App dev on SAP BTP</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/App-dev-on-SAP-BTP/Run-a-CAP-Application-on-Kyma">Run a CAP Application on Kyma, 19.08.2021</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Exercises: SAP-Tech-Bytes</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/SAP-Tech-Bytes/Using-GitHub-Actions-to-Deploy-Continuously-to-Kyma-K8s-Cluster">Using GitHub Actions to Deploy Continuously to Kyma K8s Cluster, 8.09.2021</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Exercises: Blogs-SAP-Com</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/Blogs-SAP-Com/Build-SAP-Overview-Page-using-SAP-HANA-Cloud-with-VS-Code">Build SAP Overview Page using SAP HANA Cloud with VS Code, 25.08.2021</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/my-SAP-exercises-with-VSCode/config/Blogs-SAP-Com/Deploy-a-simple-Nodejs-app-to-XSA-platform">Deploy a simple Node.js app to XSA platform with VS Code, 7.09.2021</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#preparations">Preparations</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#set-up-for-vs-code-dev-container-as-you-can-see-we-are-inside-of-a-vs-dev-container">Set up for VS Code Dev Container (as you can see, we are inside of a VS Dev Container)</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#kick-off-development">Kick off development</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#set-up-for-db-app">Set up for db app</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#if-you-want-to-develop-locally-and-establish-a-connection-with-the-hana-db-you-have-to-include-the-default-env-json-files-in-your-app-modules">If you want to develop locally and establish a connection with the HANA DB, you have to include the default-env.json files in your app modules</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#set-up-for-xsjs-app">Set up for xsjs app</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#set-up-for-ui-app">Set up for ui app</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#voila-now-you-can-develop-ui-apps-locally-using-vs-code-and-are-not-dependent-on-sap-webide-for-sap-hana-app-development">Voila, now you can develop UI apps locally using VS Code and are not dependent on SAP WebIDE for SAP HANA app development</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/Blogs-SAP-Com/Create-a-OData-service-with-Nodejs-by-using-CAP-with-VS-Code">Create a OData service with Nodejs by using CAP with VS Code, 29.10.2021</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/Blogs-SAP-Com/Add-a-piechart-into-the-openui5-sample-app">Add a piechart into the openui5 sample app, 15.11.2021</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/my-SAP-exercises-with-VSCode/config/Blogs-SAP-Com/Devtoberfest-2021-Frontend-Week-Coding-Challenge">Devtoberfest 2021 Frontend Week Coding Challenge, 15.11.2021</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 id="deploy-a-simple-node-js-app-to-xsa-platform-by-leverage-visual-vs-code-dev-container" tabindex="-1">Deploy a simple Node.js app to XSA platform by leverage Visual VS Code Dev Container <a class="header-anchor" href="#deploy-a-simple-node-js-app-to-xsa-platform-by-leverage-visual-vs-code-dev-container" aria-hidden="true">#</a></h1><p>I suspect that the SAP WebIDE will no longer supported with new features for on-premise sytems, so we&#39;ve to set up our own development environment and know how to handle all the development steps locally in our own IDE. In this exercise I will follow the deployment steps for a simple Node.js app, which that are described in this <a href="https://help.sap.com/viewer/400066065a1b46cf91df0ab436404ddc/2.0.05/en-US/0919e1cbd20646aead930a5743cfa7e1.html" target="_blank" rel="noopener noreferrer">SAP-Guide - Deploy a Node.js Hello-World Application using the XS CLI</a>. I love to leverage VS Code and that&#39;s why I&#39;m going to show how to do this with the VS Dev Containers.</p><p>You can follow all my steps with this <a href="https://draschke.github.io/vsc-sap-hana-mta-dev-env-node12x/" target="_blank" rel="noopener noreferrer">VS Dev Container for Node.js 12x</a></p><h2 id="preparations" tabindex="-1">Preparations <a class="header-anchor" href="#preparations" aria-hidden="true">#</a></h2><ul><li>Use <a href="https://draschke.github.io/vsc-sap-hana-mta-dev-env-node12x/" target="_blank" rel="noopener noreferrer">VS Dev Container Nodejs12x</a> and <em><strong>no additional installations</strong></em> are necessary for this exercise!</li><li>You need the <a href="https://draschke.github.io/vsc-sap-hana-mta-dev-env-node12x/#xs-client-for-sap-hana-xsa-only-required-for-connecting-a-xsa-platform" target="_blank" rel="noopener noreferrer">XS Client</a> for XSA deployment.</li><li>Clone this simple <a href="https://github.com/saphanaacademy/XSA.git" target="_blank" rel="noopener noreferrer">SAP XSA repo</a> in a directory of your choice</li><li>We will develop with this simple SAP app <a href="https://github.com/saphanaacademy/XSA/tree/master/myxsaapp2" target="_blank" rel="noopener noreferrer">myxsaapp2</a></li></ul><h2 id="set-up-for-vs-code-dev-container-as-you-can-see-we-are-inside-of-a-vs-dev-container" tabindex="-1">Set up for VS Code Dev Container (as you can see, we are inside of a VS Dev Container) <a class="header-anchor" href="#set-up-for-vs-code-dev-container-as-you-can-see-we-are-inside-of-a-vs-dev-container" aria-hidden="true">#</a></h2><p><img src="/my-SAP-exercises-with-VSCode/assets/initial-node12.cea9e565.png" alt="Set up for VS Code"></p><h2 id="kick-off-development" tabindex="-1">Kick off development <a class="header-anchor" href="#kick-off-development" aria-hidden="true">#</a></h2><p>Step 1: Login to your space</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./XSA/myxsaapp2/ <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span>
$ xs login -a https:// -u user -p psw -s space --skip-ssl-validation
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Step 2: Create a uaa service</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./XSA/myxsaapp2/ <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span>
$ xs create-service xsuaa space my-uaa
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Step 3: Create hdi service</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./XSA/myxsaapp2/ <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span>
$ xs create-service hana hdi-shared my-hdi-container
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="adapt-the-application-s-deployment-dependencies-defined-in-the-manifest-yml-file-to-suit-your-sap-hana-xs-advanced-environment" tabindex="-1">Adapt the application&#39;s deployment dependencies defined in the manifest.yml file to suit your SAP HANA XS advanced environment <a class="header-anchor" href="#adapt-the-application-s-deployment-dependencies-defined-in-the-manifest-yml-file-to-suit-your-sap-hana-xs-advanced-environment" aria-hidden="true">#</a></h3><p>Step 4: Change your destination in manifest.yml if necessary</p><p>hostname-based routing</p><div class="language-yml line-numbers-mode"><pre><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>&quot;name&quot;<span class="token punctuation">:</span><span class="token string">&quot;xsjs-backend&quot;</span><span class="token punctuation">,</span> &quot;url&quot;<span class="token punctuation">:</span>&quot;myxsaapp2.host.acme.com<span class="token punctuation">,</span> &quot;forwardAuthToken&quot;<span class="token punctuation">:</span><span class="token boolean important">true</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>port-based routing</p><div class="language-yml line-numbers-mode"><pre><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>&quot;name&quot;<span class="token punctuation">:</span><span class="token string">&quot;xsjs&quot;</span><span class="token punctuation">,</span> &quot;url&quot;<span class="token punctuation">:</span><span class="token string">&quot;https://host.acme.com:64012&quot;</span><span class="token punctuation">,</span> <span class="token key atrule">&quot;forwardAuthToken&quot;</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="set-up-for-db-app" tabindex="-1">Set up for db app <a class="header-anchor" href="#set-up-for-db-app" aria-hidden="true">#</a></h2><p>Step 5: Install node packages</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./XSA/myxsaapp2/db
$ <span class="token function">npm</span> i
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Step 6: Push db from root to XSA (it requires the manifest file)</p><p>You need to be /root for pushing db (Not sure, but I think so.)</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ /workspaces/XSA/myxsaapp2/ <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span>
$ xs push db

Using manifest <span class="token function">file</span> <span class="token string">&quot;manifest.yml&quot;</span>
Updating app <span class="token string">&quot;db&quot;</span> <span class="token keyword">in</span> org <span class="token string">&quot;orgname&quot;</span> / space <span class="token string">&quot;DEV&quot;</span> as YourUser<span class="token punctuation">..</span>.
WARNING: Found route binding<span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token keyword">for</span> app <span class="token string">&quot;db&quot;</span>, but no-route option is set<span class="token operator">!</span>
Uploading <span class="token string">&quot;db&quot;</span> <span class="token punctuation">..</span>.
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>Step 7: Check that your db-app is running</p><div class="language-bash line-numbers-mode"><pre><code>$ xs app db

Showing status and information about <span class="token string">&quot;db&quot;</span><span class="token punctuation">..</span>.
  name:                               db
  requested state:                    STARTED
  instances:                          <span class="token number">1</span>
  memory:                             <span class="token number">256</span> MB
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>If db is not running, check the logs and fix it</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./XSA/myxsaapp2/db <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span>
$ xs logs db --last <span class="token number">100</span> <span class="token operator">&gt;</span> db.txt
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Step 8: Deploy db to XSA</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./XSA/myxsaapp2/db
<span class="token function">npm</span> run start
deploy@ start /workspaces/XSA/myxsaapp2/db
node node_modules/@sap/hdi-deploy/deploy.js
Unlocking the container <span class="token string">&quot;E8FA0D9DA2464FCF8BEA3673ACD70163&quot;</span><span class="token punctuation">..</span>. ok <span class="token punctuation">(</span>0s 32ms<span class="token punctuation">)</span>
Deployment to container E8FA0D9DA2464FCF8BEA3673ACD70163 <span class="token keyword">done</span> <span class="token punctuation">[</span>Deployment ID: none<span class="token punctuation">]</span>.
Deployment ended at <span class="token number">2021</span>-09-06 <span class="token number">17</span>:59:30
<span class="token punctuation">(</span>81s 62ms<span class="token punctuation">)</span>
Application can be stopped.
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Close this terminal STRG + C</p><h2 id="if-you-want-to-develop-locally-and-establish-a-connection-with-the-hana-db-you-have-to-include-the-default-env-json-files-in-your-app-modules" tabindex="-1">If you want to develop locally and establish a connection with the HANA DB, you have to include the default-env.json files in your app modules <a class="header-anchor" href="#if-you-want-to-develop-locally-and-establish-a-connection-with-the-hana-db-you-have-to-include-the-default-env-json-files-in-your-app-modules" aria-hidden="true">#</a></h2><p>Step 9: Fetch the default-env.json (credentials for connecting hana system via hana-cli)</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./XSA/myxsaapp2/db <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span> 
$ hana-cli serviceKey --cf <span class="token boolean">false</span>
Input: CF/$ xs Service Instance Name:  my-hdi-container
Input: CF/$ xs Service Key Name:  my-hdi-container-key
Service Key my-hdi-container-key created
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Step 10: Change encrypt to false, if you have too</p><div class="language-bash line-numbers-mode"><pre><code>db/default-env.json
<span class="token string">&quot;encrypt&quot;</span><span class="token builtin class-name">:</span> false,
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Step 11: Copy db/default-env.json Copy this file to the xsja and ui app</p><p>Now you are able to leverage hana-cli for developing hana application if you want. Try looking for the dummy table &quot;MyTable&quot; or go to the <a href="https://github.com/SAP-samples/hana-developer-cli-tool-example" target="_blank" rel="noopener noreferrer">hana-cli repo</a> and look for other nice hana-cli commands.</p><p>Step 12: Sample for getting your tables (is only one table)</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./XSA/myxsaapp2/db <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span> 
$ hana-cli tables --cf <span class="token boolean">false</span>
Using Connection Configuration loaded via default-env.json

SCHEMA_NAME                       TABLE_NAME                    TABLE_OID  COMMENTS
E8FA0D9DA2464FCF8BEA3673ACD70163  myxsaapp2::MyContext.MyTable  <span class="token number">51303908</span>   null  
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="set-up-for-xsjs-app" tabindex="-1">Set up for xsjs app <a class="header-anchor" href="#set-up-for-xsjs-app" aria-hidden="true">#</a></h2><p>Step 13: Change the node.js version to 12.x</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./XSA/myxsaapp2/xsjs <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span>
  <span class="token string">&quot;engines&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&gt;=12.x&quot;</span>
  <span class="token punctuation">}</span>,
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Step 14: Install node packages</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./XSA/myxsaapp2/xsjs <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span>
$ <span class="token function">npm</span> i
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Step 15: Push xsjs from root to XSA (it requires the manifest file)</p><p>You need to be /root for pushing xsjs</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./XSA/myxsaapp2/ <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span> 
$ xs push xsjs 
Using manifest <span class="token function">file</span> <span class="token string">&quot;manifest.yml&quot;</span>

Creating app <span class="token string">&quot;xsjs&quot;</span> <span class="token keyword">in</span> org <span class="token string">&quot;orgname&quot;</span> / space <span class="token string">&quot;DEV&quot;</span> as YourUser<span class="token punctuation">..</span>.
Creating HTTP route <span class="token string">&quot;xsjs.host.acme.com&quot;</span> <span class="token keyword">in</span> org <span class="token string">&quot;orgname&quot;</span> / space <span class="token string">&quot;DEV&quot;</span> as YourUser<span class="token punctuation">..</span>.
Binding route <span class="token string">&quot;https://xsjs.host.acme.com&quot;</span> to app <span class="token string">&quot;xsjs&quot;</span><span class="token punctuation">..</span>.

Uploading <span class="token string">&quot;xsjs&quot;</span> <span class="token punctuation">..</span>.
 Checking <span class="token function">which</span> files to upload from /workspaces/XSA/myxsaapp2/xsjs <span class="token punctuation">..</span>.
 -<span class="token operator">&gt;</span> <span class="token string">&quot;xsjs&quot;</span> consists of <span class="token number">5072</span> files.
 Uploading <span class="token number">1</span> new or modified files <span class="token punctuation">(</span><span class="token number">13.5</span> KB<span class="token punctuation">)</span> <span class="token punctuation">..</span>.
 Uploading <span class="token string">&quot;xsjs&quot;</span> finished <span class="token keyword">in</span> <span class="token number">1.35</span> s.

Staging app <span class="token string">&quot;xsjs&quot;</span><span class="token punctuation">..</span>.
   OUT   Node.
 <span class="token number">1</span> of <span class="token number">1</span> instances running
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>Step 16: Check for running xsjs app</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./XSA/myxsaapp2/xsjs <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span>
$ xs a
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Step 17: Fetch the environment VCAP_SERVICES from xsjs</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./XSA/myxsaapp2/xsjs <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span>
xs <span class="token function">env</span> xsjs <span class="token operator">&gt;</span> xsjs.json
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Step 18: Copy the env VCAP_SERVICES into your default-env.json file xsjs/default-env.json</p><p>Step 19: Include this code xsenv.loadEnv in your server.js</p><p>server.js</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./XSA/myxsaapp2/xsjs <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span>
var port  <span class="token operator">=</span> process.<wbr>env.PORT <span class="token operator">||</span> <span class="token number">3000</span><span class="token punctuation">;</span>
xsenv.loadEnv<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Step 20: Start server</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./XSA/myxsaapp2/xsjs <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span>
<span class="token function">npm</span> run start
output:
Server listening on port <span class="token number">3000</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="set-up-for-ui-app" tabindex="-1">Set up for ui app <a class="header-anchor" href="#set-up-for-ui-app" aria-hidden="true">#</a></h2><p>Step 21: Install node packages</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./XSA/myxsaapp2/ui <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span> 
$ <span class="token function">npm</span> i
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Step 21.1: Fetch the ui-env (destination)</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./XSA/myxsaapp2/ui <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span> 
$ xs <span class="token function">env</span> web <span class="token operator">&gt;</span> web.json
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Step 21.2: Copy the destination to default-env.json</p><p>Set the right port</p><div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;NODE_TLS_REJECT_UNAUTHORIZED&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;xsjs-backend&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;url&quot;</span><span class="token operator">:</span><span class="token string">&quot;http://localhost:3000&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;forwardAuthToken&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>default-env.json</p><div class="language-json line-numbers-mode"><pre><code><span class="token punctuation">{</span>
  <span class="token property">&quot;VCAP_SERVICES&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;xsuaa&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;my-uaa&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;label&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;xsuaa&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tags&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;xsuaa&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;plan&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;space&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;credentials&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;tenantmode&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;dedicated&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;clientid&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;sb-na-870dcb4d-fe8a-44b2-8ebf-861e0787db78!i5&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;verificationkey&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;xsappname&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;na-870dcb4d-fe8a-44b2-8ebf-861e0787db78!i5&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;identityzone&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;uaa&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;identityzoneid&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;uaa&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;clientsecret&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;url&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;https://uaa-server.host.acme.com:64012/uaa-security&quot;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;NODE_TLS_REJECT_UNAUTHORIZED&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;destinations&quot;</span><span class="token operator">:</span> <span class="token string">&quot;[{\&quot;name\&quot;:\&quot;xsjs-backend\&quot;, \&quot;url\&quot;:\&quot;http://localhost:3000\&quot;, \&quot;forwardAuthToken\&quot;:true}]&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;XS_APP_LOG_LEVEL&quot;</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>Step 22: Start ui</p><div class="language-bash line-numbers-mode"><pre><code>node ➜ <span class="token punctuation">..</span>./XSA/myxsaapp2/ui <span class="token punctuation">(</span>master ✗<span class="token punctuation">)</span> 
$ <span class="token function">npm</span> run start

web-approuter@ start /workspaces/XSA/myxsaapp2/ui
node node_modules/@sap/approuter/approuter.js

Application router is listening on port: <span class="token number">5000</span><span class="token comment">#</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="voila-now-you-can-develop-ui-apps-locally-using-vs-code-and-are-not-dependent-on-sap-webide-for-sap-hana-app-development" tabindex="-1">Voila, now you can develop UI apps locally using VS Code and are not dependent on SAP WebIDE for SAP HANA app development <a class="header-anchor" href="#voila-now-you-can-develop-ui-apps-locally-using-vs-code-and-are-not-dependent-on-sap-webide-for-sap-hana-app-development" aria-hidden="true">#</a></h2><p><img src="/my-SAP-exercises-with-VSCode/assets/ui.886aa9ac.png" alt="Simple UI"></p></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><a class="link" href="https://github.com/draschke/my-SAP-exercises-with-VSCode/edit/master/docs/config/Blogs-SAP-Com/Deploy-a-simple-Nodejs-app-to-XSA-platform.md" target="_blank" rel="noopener noreferrer" data-v-1ed99556>Edit this page on GitHub <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-1ed99556><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-fb8d84c6><p class="last-updated" data-v-fb8d84c6 data-v-5797b537><span class="prefix" data-v-5797b537>Last Updated:</span><span class="datetime" data-v-5797b537></span></p></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/my-SAP-exercises-with-VSCode/config/Blogs-SAP-Com/Build-SAP-Overview-Page-using-SAP-HANA-Cloud-with-VS-Code" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>Build SAP Overview Page using SAP HANA Cloud with VS Code, 25.08.2021</span></a></div><div class="next" data-v-38ede35f><a class="link" href="/my-SAP-exercises-with-VSCode/config/Blogs-SAP-Com/Create-a-OData-service-with-Nodejs-by-using-CAP-with-VS-Code" data-v-38ede35f><span class="text" data-v-38ede35f>Create a OData service with Nodejs by using CAP with VS Code, 29.10.2021</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"config_app-dev-on-sap-btp_run-a-cap-application-on-kyma.md\":\"1e98f68a\",\"config_blogs-sap-com_add-a-piechart-into-the-openui5-sample-app.md\":\"ee14a2d3\",\"config_blogs-sap-com_build-sap-overview-page-using-sap-hana-cloud-with-vs-code.md\":\"e26c8e08\",\"config_blogs-sap-com_create-a-odata-service-with-nodejs-by-using-cap-with-vs-code.md\":\"e6f6dd70\",\"config_blogs-sap-com_deploy-a-simple-nodejs-app-to-xsa-platform.md\":\"3f6e83ad\",\"config_blogs-sap-com_develop-and-deploy-the-repositiory-bmp.md\":\"b9283637\",\"config_blogs-sap-com_devtoberfest-2021-frontend-week-coding-challenge.md\":\"90b3f20b\",\"config_sap-tech-bytes_using-github-actions-to-deploy-continuously-to-kyma-k8s-cluster.md\":\"8c1f51b9\",\"config_basics.md\":\"76c51a1a\",\"index.md\":\"6ad5db5c\"}")</script>
    <script type="module" async src="/my-SAP-exercises-with-VSCode/assets/app.80f3e7ce.js"></script>
    
  </body>
</html>