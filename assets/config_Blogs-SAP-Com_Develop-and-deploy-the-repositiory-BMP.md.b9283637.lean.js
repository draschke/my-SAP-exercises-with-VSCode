import{_ as e,c as a,o as t,a as n,b as s}from"./app.80f3e7ce.js";var o="/my-SAP-exercises-with-VSCode/assets/1-init.b2cccf1a.png",l="/my-SAP-exercises-with-VSCode/assets/csv-required-data.da2570d3.png",r="/my-SAP-exercises-with-VSCode/assets/localhost-5000.317995a6.png";const zn='{"title":"Develop and deploy the repository BMP (Bundeseinheitlicher Medikationsplan) on your local System with VS Code to a SAP HANA XSA","description":"Develop and deploy the repositiory BMP (Bundeseinheitlicher Medikationsplan) using the XS CLI to SAP HANA XSA by running Visual VS Code Dev Container, which already contains all of the required programs. In the end you\'ll be able to develop your app locally using VS Code","frontmatter":{"sidebarDepth":3,"head":[["meta",{"name":"title","content":"Develop and deploy the repositiory BMP (Bundeseinheitlicher Medikationsplan) on your local System with VS Code to a SAP HANA XSA system"}],["meta",{"name":"description","content":"Develop and deploy the repositiory BMP (Bundeseinheitlicher Medikationsplan) using the XS CLI to SAP HANA XSA by running Visual VS Code Dev Container, which already contains all of the required programs. In the end you\'ll be able to develop your app locally using VS Code"}],["meta",{"name":"keywords","content":"Bundeseinheitlicher Medikationsplan, BMP, deploy app to XSA, SAP HANA XSA, VS Code Dev Container, xs, xs-client"}]]},"headers":[{"level":2,"title":"Preparations","slug":"preparations"},{"level":3,"title":"SAP HANA Document Store (DocStore)","slug":"sap-hana-document-store-docstore"},{"level":3,"title":"SAP HANA Cloud Document Store (DocStore)","slug":"sap-hana-cloud-document-store-docstore"},{"level":2,"title":"Set up for VS Code Dev Container (As you can see, we are inside of a VS Dev Container. It includes everything we need.)","slug":"set-up-for-vs-code-dev-container-as-you-can-see-we-are-inside-of-a-vs-dev-container-it-includes-everything-we-need"},{"level":2,"title":"Let\'s start","slug":"let-s-start"},{"level":3,"title":"Step 1: Login to your space","slug":"step-1-login-to-your-space"},{"level":3,"title":"Step 2: Check for your node.js runtime environment","slug":"step-2-check-for-your-node-js-runtime-environment"},{"level":3,"title":"Step 3: Install npm module","slug":"step-3-install-npm-module"},{"level":3,"title":"Step 4: Build and Deploy the .mtar file","slug":"step-4-build-and-deploy-the-mtar-file"},{"level":2,"title":"`BMP.js` app","slug":"bmp-js-app"},{"level":2,"title":"`BMP.web` app","slug":"bmp-web-app"},{"level":3,"title":"Issues","slug":"issues"}],"relativePath":"config/Blogs-SAP-Com/Develop-and-deploy-the-repositiory-BMP.md","lastUpdated":1637069977803}',p={},i=n("h1",{id:"develop-and-deploy-the-repository-bmp-bundeseinheitlicher-medikationsplan-on-your-local-system-with-vs-code-to-a-sap-hana-xsa",tabindex:"-1"},[s("Develop and deploy the repository BMP (Bundeseinheitlicher Medikationsplan) on your local System with VS Code to a SAP HANA XSA "),n("a",{class:"header-anchor",href:"#develop-and-deploy-the-repository-bmp-bundeseinheitlicher-medikationsplan-on-your-local-system-with-vs-code-to-a-sap-hana-xsa","aria-hidden":"true"},"#")],-1),c=n("p",null,[s("In this exercise I will show how to set up a local dev environment for the node.js app "),n("a",{href:"https://github.com/draschke/BMP.git",target:"_blank",rel:"noopener noreferrer"},"BMP"),s(".")],-1),u=n("p",null,[s("You can follow all my steps with this "),n("a",{href:"https://draschke.github.io/vsc-sap-hana-mta-dev-env-node12x/",target:"_blank",rel:"noopener noreferrer"},"VS Dev Container for Node.js 12x")],-1),d=n("p",null,[s("Be aware that I don't use Docker Desktop anymore. "),n("a",{href:"https://dev.to/bowmanjd/install-docker-on-windows-wsl-without-docker-desktop-34m9",target:"_blank",rel:"noopener noreferrer"},"Docker on Windows (WSL) without Docker Desktop")],-1),b=n("h2",{id:"preparations",tabindex:"-1"},[s("Preparations "),n("a",{class:"header-anchor",href:"#preparations","aria-hidden":"true"},"#")],-1),m=n("ul",null,[n("li",null,[s("Use "),n("a",{href:"https://draschke.github.io/vsc-sap-hana-mta-dev-env-node12x/",target:"_blank",rel:"noopener noreferrer"},"VS Dev Container Nodejs12x"),s(" and "),n("em",null,[n("strong",null,"no additional installations")]),s(" are necessary for this exercise!")]),n("li",null,[s("You need the "),n("a",{href:"https://draschke.github.io/vsc-sap-hana-mta-dev-env-node12x/#xs-client-for-sap-hana-xsa-only-required-for-connecting-a-xsa-platform",target:"_blank",rel:"noopener noreferrer"},"XS Client"),s(" for XSA deployment.")]),n("li",null,[s("Clone this repo "),n("a",{href:"https://github.com/draschke/BMP.git",target:"_blank",rel:"noopener noreferrer"},"BMP"),s(" in a directory of your choice")])],-1),h=n("h3",{id:"sap-hana-document-store-docstore",tabindex:"-1"},[s("SAP HANA Document Store (DocStore) "),n("a",{class:"header-anchor",href:"#sap-hana-document-store-docstore","aria-hidden":"true"},"#")],-1),k=n("ul",null,[n("li",null,[s("For this project you have to enable the "),n("a",{href:"https://help.sap.com/viewer/4505d0bdaf4948449b7f7379d24d0f0d/2.0.05/en-US/3872240967ec4e4ea030524985dac73b.html",target:"_blank",rel:"noopener noreferrer"},"DocStore"),s(" in your HANA System")])],-1),_=n("div",{class:"language-sql line-numbers-mode"},[n("pre",null,[n("code",null,[n("span",{class:"token keyword"},"ALTER"),s(),n("span",{class:"token keyword"},"DATABASE"),s(),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"database"),s(" name"),n("span",{class:"token operator"},">"),s(),n("span",{class:"token keyword"},"ADD"),s(),n("span",{class:"token string"},"'docstore'"),s(`
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br")])],-1),v=n("h3",{id:"sap-hana-cloud-document-store-docstore",tabindex:"-1"},[s("SAP HANA Cloud Document Store (DocStore) "),n("a",{class:"header-anchor",href:"#sap-hana-cloud-document-store-docstore","aria-hidden":"true"},"#")],-1),g=n("p",null,[s("If you like to try this project on SCP, it won't work if you use only a trial-account. More information you'll find here: "),n("a",{href:"https://answers.sap.com/questions/13207475/how-to-enable-docstore-on-sap-hana-cloud.html",target:"_blank",rel:"noopener noreferrer"},"How to enable docstore on SAP HANA Cloud?")],-1),f=n("h2",{id:"set-up-for-vs-code-dev-container-as-you-can-see-we-are-inside-of-a-vs-dev-container-it-includes-everything-we-need",tabindex:"-1"},[s("Set up for VS Code Dev Container (As you can see, we are inside of a VS Dev Container. It includes everything we need.) "),n("a",{class:"header-anchor",href:"#set-up-for-vs-code-dev-container-as-you-can-see-we-are-inside-of-a-vs-dev-container-it-includes-everything-we-need","aria-hidden":"true"},"#")],-1),B=n("p",null,[n("img",{src:o,alt:"Set up for VS Code"})],-1),y=n("h2",{id:"let-s-start",tabindex:"-1"},[s("Let's start "),n("a",{class:"header-anchor",href:"#let-s-start","aria-hidden":"true"},"#")],-1),w=n("h3",{id:"step-1-login-to-your-space",tabindex:"-1"},[s("Step 1: Login to your space "),n("a",{class:"header-anchor",href:"#step-1-login-to-your-space","aria-hidden":"true"},"#")],-1),S=n("div",{class:"language-bash line-numbers-mode"},[n("pre",null,[n("code",null,[s("node \u279C "),n("span",{class:"token punctuation"},".."),s("./BMP "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(`
$ xs login -a https:// -u user -p psw -s space --skip-ssl-validation
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br")])],-1),A=n("h3",{id:"step-2-check-for-your-node-js-runtime-environment",tabindex:"-1"},[s("Step 2: Check for your node.js runtime environment "),n("a",{class:"header-anchor",href:"#step-2-check-for-your-node-js-runtime-environment","aria-hidden":"true"},"#")],-1),P=n("p",null,"This project requires 12.x",-1),M=n("div",{class:"language-bash line-numbers-mode"},[n("pre",null,[n("code",null,[s("node \u279C "),n("span",{class:"token punctuation"},".."),s("./BMP "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(`
$ xs runtimes
`),n("span",{class:"token builtin class-name"},"type"),s("                  version   "),n("span",{class:"token function"},"id"),s(`   resolved   active   description                                    bound apps
------------------------------------------------------------------------------------------------------------------
node12.20             `),n("span",{class:"token number"},"0.0"),s("       "),n("span",{class:"token number"},"31"),s("   "),n("span",{class:"token boolean"},"true"),s("       "),n("span",{class:"token boolean"},"true"),s("     Node.js "),n("span",{class:"token number"},"12.20"),s(".0 "),n("span",{class:"token keyword"},"for"),s(" Linux x86-64               "),n("span",{class:"token number"},"15"),s(`
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br")])],-1),C=n("h3",{id:"step-3-install-npm-module",tabindex:"-1"},[s("Step 3: Install npm module "),n("a",{class:"header-anchor",href:"#step-3-install-npm-module","aria-hidden":"true"},"#")],-1),D=n("div",{class:"language-bash line-numbers-mode"},[n("pre",null,[n("code",null,[s("node \u279C "),n("span",{class:"token punctuation"},".."),s("./BMP "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(`
node \u279C `),n("span",{class:"token punctuation"},".."),s("./BMP "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(" $ "),n("span",{class:"token function"},"npm"),s(` i
node \u279C `),n("span",{class:"token punctuation"},".."),s("./BMP "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(" $ "),n("span",{class:"token function"},"npm"),s(` audit fix
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br")])],-1),j=n("p",null,"In order to set up a fast local development environment for our project, it is the best to deploy the mtar file at first. Because all of the required programs are already installed (if you used this devcontainer) you can build the .mtar file manually.",-1),x=n("h3",{id:"step-4-build-and-deploy-the-mtar-file",tabindex:"-1"},[s("Step 4: Build and Deploy the .mtar file "),n("a",{class:"header-anchor",href:"#step-4-build-and-deploy-the-mtar-file","aria-hidden":"true"},"#")],-1),E=n("p",null,"Build the .mtar file.",-1),I=n("div",{class:"language-bash line-numbers-mode"},[n("pre",null,[n("code",null,[s("node \u279C "),n("span",{class:"token punctuation"},".."),s("./BMP "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(`
$ mbt build -t ./

output:
INFO the MTA archive generated at: BMP_1.0.5.mtar
INFO cleaning temporary files`),n("span",{class:"token punctuation"},".."),s(`.
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br")])],-1),$=n("p",null,"If everything went well, you will find the BMP_x.mtar file in your project.",-1),N=n("p",null,"Deploy the mtar file.",-1),V=n("div",{class:"language-bash line-numbers-mode"},[n("pre",null,[n("code",null,[s("node \u279C "),n("span",{class:"token punctuation"},".."),s("./BMP "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(`
$ xs deploy BMP_1.0.5.mtar --use-namespaces
`),n("span",{class:"token punctuation"},".."),s(`.
Process finished.
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br")])],-1),T=n("p",null,"The cool thing is that you do not need to create and bind the services manually, everything happens automatically, because the information is described within the mta.yaml file.",-1),L=n("p",null,"New created services",-1),H=n("ul",null,[n("li",null,"name: bmp-uaa"),n("li",null,"name: hdi-bmp-db")],-1),R=n("p",null,"Step 5: Look to the apps",-1),q=n("div",{class:"language-bash line-numbers-mode"},[n("pre",null,[n("code",null,[s("node \u279C "),n("span",{class:"token punctuation"},".."),s(`./BMP
$ xs a
name         requested state   instances   memory    disk          alerts   urls
------------------------------------------------------------------------------------------------------------------------------
BMP.db       STOPPED           `),n("span",{class:"token number"},"0"),s("/1         "),n("span",{class:"token number"},"128"),s(" MB    "),n("span",{class:"token number"},"256"),s(" MB                 "),n("span",{class:"token operator"},"<"),s("none"),n("span",{class:"token operator"},">"),s(`
BMP.js       STARTED           `),n("span",{class:"token number"},"1"),s("/1         "),n("span",{class:"token number"},"128"),s(" MB    "),n("span",{class:"token number"},"512"),s(` MB                 https://orgname-dev-js.host.domain.com
BMP.web      STARTED           `),n("span",{class:"token number"},"1"),s("/1         "),n("span",{class:"token number"},"1.00"),s(" GB   "),n("span",{class:"token number"},"512"),s(` MB                 https://orgname-dev-web.host.domain.com
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br")])],-1),X=n("p",null,[s("If the BMP.js and the "),n("a",{href:"http://BMP.web",target:"_blank",rel:"noopener noreferrer"},"BMP.web"),s(" apps are running (1/1) we can move forward and look to the new created services.")],-1),O=n("p",null,"Step 6: Look to the binding and the status of the services Here you will see the binding of the uaa service on your XSA system. This is what we need locally for our dev environment.",-1),U=n("div",{class:"language-bash line-numbers-mode"},[n("pre",null,[n("code",null,[s("node \u279C "),n("span",{class:"token punctuation"},".."),s("./BMP "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(`
$ xs `),n("span",{class:"token function"},"service"),s(` BMP.bmp-uaa
Service instance:   BMP.bmp-uaa
Service:            xsuaa
Bound apps:         BMP.js, BMP.web
Status:             succeeded
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br")])],-1),W=n("div",{class:"language-bash line-numbers-mode"},[n("pre",null,[n("code",null,[s("node \u279C "),n("span",{class:"token punctuation"},".."),s("./BMP "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(`
$ xs `),n("span",{class:"token function"},"service"),s(` BMP.hdi-bmp-db
Service instance:   BMP.hdi-bmp-db
Service:            hana
Bound apps:         BMP.db, BMP.js
Status:             succeeded
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br")])],-1),F=n("p",null,"Everything looks good, let's get the environment variables.",-1),G=n("p",null,'Step 7: Go to db app and fetch the env variables for "BMP.db"',-1),Y=n("div",{class:"language-bash line-numbers-mode"},[n("pre",null,[n("code",null,[s("node \u279C "),n("span",{class:"token punctuation"},".."),s("./BMP "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(" $ "),n("span",{class:"token builtin class-name"},"cd"),s(` db
node \u279C `),n("span",{class:"token punctuation"},".."),s("./BMP/db "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(" $ xs "),n("span",{class:"token function"},"env"),s(" BMP.db "),n("span",{class:"token operator"},">"),s(` envBMPdb.json
node \u279C `),n("span",{class:"token punctuation"},".."),s("./BMP/db "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(" $ "),n("span",{class:"token function"},"cp"),s(` envBMPdb.json default-env.json
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br")])],-1),z=n("p",null,"Go to the file db/default-env.json and remove everything outside the system-provided brackets {}. Now let's test the connection.",-1),Z=n("p",null,"Step 7: Check the connection: hana-cli status",-1),J=n("div",{class:"language-bash line-numbers-mode"},[n("pre",null,[n("code",null,[s("node \u279C "),n("span",{class:"token punctuation"},".."),s("./BMP/db "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(` 
$ hana-cli status
Using Connection Configuration loaded via default-env.json 
Current User                                                   Current Schema                  
-------------------------------------------------------------  --------------------------------
0C68B8C61AD14EBA8AB46B47B327C5D0_BQU7KHCUERIJZBWR6E0AH0R9Y_RT  0C68B8C61AD14EBA8AB46B47B327C5D0
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br")])],-1),K=n("p",null,"Great, it works! Next, let's look at the tables",-1),Q=n("p",null,"Step 7: Check for the tables",-1),nn=n("div",{class:"language-bash line-numbers-mode"},[n("pre",null,[n("code",null,[s("node \u279C "),n("span",{class:"token punctuation"},".."),s("./BMP/db "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(` $ hana-cli tables
Using Connection Configuration loaded via default-env.json 

SCHEMA_NAME                       TABLE_NAME                          TABLE_OID  COMMENTS
--------------------------------  ----------------------------------  ---------  --------
0C68B8C61AD14EBA8AB46B47B327C5D0  A_Ersteller                         `),n("span",{class:"token number"},"51325720"),s(`   null
0C68B8C61AD14EBA8AB46B47B327C5D0  A_MedDarreichungsform               `),n("span",{class:"token number"},"51325734"),s(`   null
0C68B8C61AD14EBA8AB46B47B327C5D0  A_MedDosiereinheit                  `),n("span",{class:"token number"},"51325742"),s(`   null
0C68B8C61AD14EBA8AB46B47B327C5D0  A_MedDosierung                      `),n("span",{class:"token number"},"51325749"),s(`   null
0C68B8C61AD14EBA8AB46B47B327C5D0  A_MedHandelsname                    `),n("span",{class:"token number"},"51325758"),s(`   null
0C68B8C61AD14EBA8AB46B47B327C5D0  A_MedWirkstoff                      `),n("span",{class:"token number"},"51325767"),s(`   null
0C68B8C61AD14EBA8AB46B47B327C5D0  A_Zwischenueberschrift              `),n("span",{class:"token number"},"51325774"),s(`   null
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br")])],-1),sn=n("p",null,"Step 7: Check for the data of tables",-1),en=n("p",null,"Yes, this project contains required data for some tables, which were added with the deployment.",-1),an=n("div",{class:"language-bash line-numbers-mode"},[n("pre",null,[n("code",null,[s("node \u279C "),n("span",{class:"token punctuation"},".."),s("./BMP/db "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(` 
$ hana-cli qs -o `),n("span",{class:"token string"},'"table"'),s(" -q "),n("span",{class:"token string"},`'SELECT TOP 10 * FROM "A_MedWirkstoff"'`),s(`
Using Connection Configuration loaded via default-env.json 

BezeichnungID  Bezeichnung                                    
-------------  -----------------------------------------------
`),n("span",{class:"token number"},"1"),s("              "),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"3"),s("-sn-Phosphatidyl"),n("span",{class:"token punctuation"},")"),s(`cholin                      
`),n("span",{class:"token number"},"2"),s("              "),n("span",{class:"token number"},"2,3"),s(`-Dimercapto-1-propansulfons\xE4ure, Natriumsalz
`),n("span",{class:"token number"},"3"),s("              "),n("span",{class:"token number"},"4"),s(`-Aminomethylbenzoes\xE4ure                       
`),n("span",{class:"token number"},"4"),s("              "),n("span",{class:"token number"},"4"),s(`-Aminosalicyls\xE4ure                            
`),n("span",{class:"token number"},"5"),s("              "),n("span",{class:"token number"},"4"),s(`-Dimethylaminophenol                          
`),n("span",{class:"token number"},"6"),s(`              Abacavir                                       
`),n("span",{class:"token number"},"7"),s(`              Abatacept                                      
`),n("span",{class:"token number"},"8"),s(`              Abciximab                                      
`),n("span",{class:"token number"},"9"),s(`              Acarbose                                       
`),n("span",{class:"token number"},"10"),s(`             Acebutolol     
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br")])],-1),tn=n("p",null,"You will find the csv files here.",-1),on=n("p",null,[n("img",{src:l,alt:"Set up for VS Code"})],-1),ln=n("p",null,"Step 7: Install the npm modul - npm i",-1),rn=n("div",{class:"language-bash line-numbers-mode"},[n("pre",null,[n("code",null,[s("node \u279C "),n("span",{class:"token punctuation"},".."),s("./BMP/db "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(" $ "),n("span",{class:"token function"},"npm"),s(` i
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br")])],-1),pn=n("p",null,"Step 7: Run your deployment locally - npm run start",-1),cn=n("div",{class:"language-bash line-numbers-mode"},[n("pre",null,[n("code",null,[s("node \u279C "),n("span",{class:"token punctuation"},".."),s("./BMP/db "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(" $ "),n("span",{class:"token function"},"npm"),s(` run start
`),n("span",{class:"token operator"},">"),s(" deploy@ start "),n("span",{class:"token punctuation"},".."),s(`./BMP/db
`),n("span",{class:"token operator"},">"),s(` node node_modules/@sap/hdi-deploy/deploy.js  --auto-undeploy
Working `),n("span",{class:"token punctuation"},".."),s(`.
@sap/hdi-deploy, version `),n("span",{class:"token number"},"4.2"),s(".0 "),n("span",{class:"token punctuation"},"("),s("mode default"),n("span",{class:"token punctuation"},")"),s(", server version "),n("span",{class:"token number"},"2.00"),s(".051.00.1596053985 "),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"2.0"),s(".51.0"),n("span",{class:"token punctuation"},")"),s(", node version "),n("span",{class:"token number"},"12.22"),s(".6, HDI version "),n("span",{class:"token number"},"4"),s(", container API version "),n("span",{class:"token number"},"44"),s(`
Deployment started at `),n("span",{class:"token number"},"2021"),s("-10-01 "),n("span",{class:"token number"},"11"),s(`:26:36
`),n("span",{class:"token punctuation"},".."),s(`.
Deployment ended at `),n("span",{class:"token number"},"2021"),s("-10-01 "),n("span",{class:"token number"},"11"),s(`:27:29
`),n("span",{class:"token punctuation"},"("),s("89s 575ms"),n("span",{class:"token punctuation"},")"),s(`
Application can be stopped.
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br")])],-1),un=n("h2",{id:"bmp-js-app",tabindex:"-1"},[n("code",null,"BMP.js"),s(" app "),n("a",{class:"header-anchor",href:"#bmp-js-app","aria-hidden":"true"},"#")],-1),dn=n("p",null,[s("Step 7: Fetch env variables for app "),n("code",null,"BMP.js")],-1),bn=n("div",{class:"language-bash line-numbers-mode"},[n("pre",null,[n("code",null,[s("node \u279C "),n("span",{class:"token punctuation"},".."),s("./BMP "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(" $ "),n("span",{class:"token builtin class-name"},"cd"),s(` js
node \u279C `),n("span",{class:"token punctuation"},".."),s("./BMP/js "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(" $ xs "),n("span",{class:"token function"},"env"),s(" BMP.js "),n("span",{class:"token operator"},">"),s(` envBMPjs.json
node \u279C `),n("span",{class:"token punctuation"},".."),s("./BMP/js "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(" $ "),n("span",{class:"token function"},"cp"),s(` envBMPjs.json default-env.json
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br")])],-1),mn=n("p",null,"As we have done it before, go to the file js/default-env.json and remove everything outside of the system-provided brackets {}.",-1),hn=n("p",null,"Step 7: Install the npm modul - npm i",-1),kn=n("div",{class:"language-bash line-numbers-mode"},[n("pre",null,[n("code",null,[s("node \u279C "),n("span",{class:"token punctuation"},".."),s("./BMP/js "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(` 
$ `),n("span",{class:"token function"},"npm"),s(` i
$ `),n("span",{class:"token function"},"npm"),s(` audit fix
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br")])],-1),_n=n("p",null,"Step 7: Run your app locally - npm run start",-1),vn=n("div",{class:"language-bash line-numbers-mode"},[n("pre",null,[n("code",null,[s("node \u279C "),n("span",{class:"token punctuation"},".."),s("./BMP/js "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(" $ "),n("span",{class:"token function"},"npm"),s(` run start

`),n("span",{class:"token operator"},">"),s(" js@1.0.0 start "),n("span",{class:"token punctuation"},".."),s(`./BMP/js
`),n("span",{class:"token operator"},">"),s(` node server.js

`),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),s(`
Server running at port `),n("span",{class:"token number"},"3000"),s(`
`),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),s(`
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br")])],-1),gn=n("p",null,"Nice, the server is running and waiting. Now we ready to go to the web app.",-1),fn=n("h2",{id:"bmp-web-app",tabindex:"-1"},[n("code",null,"BMP.web"),s(" app "),n("a",{class:"header-anchor",href:"#bmp-web-app","aria-hidden":"true"},"#")],-1),Bn=n("p",null,[s("Step 7: Fetch env variables for app "),n("code",null,"BMP.web")],-1),yn=n("div",{class:"language-bash line-numbers-mode"},[n("pre",null,[n("code",null,[s("node \u279C "),n("span",{class:"token punctuation"},".."),s("./BMP "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(" $ "),n("span",{class:"token builtin class-name"},"cd"),s(` web
node \u279C `),n("span",{class:"token punctuation"},".."),s("./BMP/web "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(" $ xs "),n("span",{class:"token function"},"env"),s(" BMP.web "),n("span",{class:"token operator"},">"),s(` envBMPweb.json
node \u279C `),n("span",{class:"token punctuation"},".."),s("./BMP/web "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(" $ "),n("span",{class:"token function"},"cp"),s(` envBMPweb.json default-env.json
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br")])],-1),wn=n("p",null,"Again, go to the file js/default-env.json and remove everything outside of the system-provided brackets {}. But this time we have a bit more to do, because we need also the user provided variables.",-1),Sn=n("div",{class:"language-bash line-numbers-mode"},[n("pre",null,[n("code",null,[s("  "),n("span",{class:"token string"},'"destinations"'),n("span",{class:"token builtin class-name"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token string"},'"name"'),n("span",{class:"token builtin class-name"},":"),s(),n("span",{class:"token string"},'"nodejs_destination"'),s(`,
      `),n("span",{class:"token string"},'"url"'),n("span",{class:"token builtin class-name"},":"),s(),n("span",{class:"token string"},'"http://localhost:3000"'),s(`,
      `),n("span",{class:"token string"},'"forwardAuthToken"'),n("span",{class:"token builtin class-name"},":"),s(` true,
      `),n("span",{class:"token string"},'"strictSSL"'),n("span",{class:"token builtin class-name"},":"),s(),n("span",{class:"token boolean"},"false"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token punctuation"},"]"),s(`,
  `),n("span",{class:"token string"},'"SESSION_TIMEOUT"'),n("span",{class:"token builtin class-name"},":"),s(),n("span",{class:"token number"},"30"),s(`,
  `),n("span",{class:"token string"},'"ui5liburl"'),n("span",{class:"token builtin class-name"},":"),s(),n("span",{class:"token string"},'"https://orgname-sap-sapui5-fesv4.host.domain.com"'),s(`,
  `),n("span",{class:"token string"},'"XS_APP_LOG_LEVEL"'),n("span",{class:"token builtin class-name"},":"),s(),n("span",{class:"token string"},'"error"'),s(`,
   `),n("span",{class:"token string"},'"VCAP_APPLICATION"'),n("span",{class:"token builtin class-name"},":"),s(),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},".."),s(`.
   `),n("span",{class:"token punctuation"},"}"),s(`,
  `),n("span",{class:"token string"},'"VCAP_SERVICES"'),n("span",{class:"token builtin class-name"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token string"},'"xsuaa"'),n("span",{class:"token builtin class-name"},":"),s(),n("span",{class:"token punctuation"},"["),s("  "),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),s("   "),n("span",{class:"token punctuation"},"]"),s(`
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br")])],-1),An=n("p",null,"Step 7: Install the npm modul - npm i",-1),Pn=n("div",{class:"language-bash line-numbers-mode"},[n("pre",null,[n("code",null,[s("node \u279C "),n("span",{class:"token punctuation"},".."),s("./BMP/web "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(` 
$ `),n("span",{class:"token function"},"npm"),s(` i
$ `),n("span",{class:"token function"},"npm"),s(` audit fix
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br")])],-1),Mn=n("p",null,"Step 7: Start the web app - npm run start",-1),Cn=n("p",null,"If everything went fine, you are able to start the app by running npm run start",-1),Dn=n("div",{class:"language-bash line-numbers-mode"},[n("pre",null,[n("code",null,[s("node \u279C "),n("span",{class:"token punctuation"},".."),s("./BMP/web "),n("span",{class:"token punctuation"},"("),s("master \u2717"),n("span",{class:"token punctuation"},")"),s(` 
$ `),n("span",{class:"token function"},"npm"),s(` run start
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br")])],-1),jn=n("p",null,[n("img",{src:r,alt:"Set up for VS Code"})],-1),xn=n("h3",{id:"issues",tabindex:"-1"},[s("Issues "),n("a",{class:"header-anchor",href:"#issues","aria-hidden":"true"},"#")],-1),En=n("p",null,"Issue: login/callback",-1),In=n("p",null,`If we set the authenticationMethod on "route" we will run in a login/callback issue. Not sure, if this is a proxy or an SSL issue. The property strictSSL should fix the issue, but doesn't work.`,-1),$n=n("div",{class:"language-json line-numbers-mode"},[n("pre",null,[n("code",null,[s(`default-env.json
`),n("span",{class:"token property"},'"strictSSL"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),s(`
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br")])],-1),Nn=n("div",{class:"language-json line-numbers-mode"},[n("pre",null,[n("code",null,[s(`xs-security.json
`),n("span",{class:"token property"},'"authenticationMethod"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"none"'),s(" --> "),n("span",{class:"token property"},'"authenticationMethod"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"route"'),s(`
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br")])],-1),Vn=n("div",{class:"language-bash line-numbers-mode"},[n("pre",null,[n("code",null,[s("Request URL: http://localhost:5001/login/callback?code"),n("span",{class:"token operator"},"="),s(`xEbrAeOtuW
Request Method: GET
Status Code: `),n("span",{class:"token number"},"500"),s(` Internal Server Error
Remote Address: `),n("span",{class:"token number"},"127.0"),s(`.0.1:5001
Referrer Policy: strict-origin-when-cross-origin
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br")])],-1),Tn=n("p",null,"Also, setting the oauth2-configuration does not fix the issue.",-1),Ln=n("div",{class:"language-bash line-numbers-mode"},[n("pre",null,[n("code",null,`xs update-service BMP.bmp-uaa  -c xs-security.json
`)]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br")])],-1),Hn=n("div",{class:"language-json line-numbers-mode"},[n("pre",null,[n("code",null,[n("span",{class:"token property"},'"oauth2-configuration"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token property"},'"redirect-uris"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
          `),n("span",{class:"token string"},'"http://localhost:5000"'),s(`
      `),n("span",{class:"token punctuation"},"]"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers-wrapper"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br")])],-1),Rn=[i,c,u,d,b,m,h,k,_,v,g,f,B,y,w,S,A,P,M,C,D,j,x,E,I,$,N,V,T,L,H,R,q,X,O,U,W,F,G,Y,z,Z,J,K,Q,nn,sn,en,an,tn,on,ln,rn,pn,cn,un,dn,bn,mn,hn,kn,_n,vn,gn,fn,Bn,yn,wn,Sn,An,Pn,Mn,Cn,Dn,jn,xn,En,In,$n,Nn,Vn,Tn,Ln,Hn];function qn(Xn,On,Un,Wn,Fn,Gn){return t(),a("div",null,Rn)}var Zn=e(p,[["render",qn]]);export{zn as __pageData,Zn as default};
